import{$ as T,a0 as G,a1 as Xe,a2 as lr,a3 as we,a4 as L,a5 as ze,a6 as eo,a7 as to,a8 as Ge,a9 as Aa,aa as Ba,ab as Un,ac as Z,ad as Se,ae as Jt,af as $a,ag as Te,ah as ie,ai as Ia,aj as Sa,ak as He,al as Ta,am as ka,an as Na,ao as Gt,ap as jn,aq as Yr,ar as Kr,as as Xr,at as Jr,au as Qr,av as es,aw as ts,ax as ns,ay as Dn,az as Qt,aA as rs,aB as Ca,aC as Zt,aD as ss,aE as no,aF as Oa,aG as Gn,aH as os,aI as ro,aJ as is,aK as Ra,aL as so,aM as as,aN as Fa,aO as oo,aP as cs,aQ as za,aR as us}from"./core-DKVhzpCZ.js";import{b1 as D1,b0 as G1,b2 as H1,b3 as V1,b4 as q1,aZ as Z1,b5 as W1,b6 as Y1,b7 as K1,b8 as X1,b9 as J1,ba as Q1,bb as e6,bc as t6,bd as n6,be as r6,bf as s6,bg as o6,aY as i6,a_ as a6,bh as c6,a$ as u6,bi as f6,bj as d6,bk as l6,bl as b6,bm as h6,bn as p6,bo as y6,bq as m6,bp as g6,aS as w6,aW as x6,aT as v6,aX as E6,aV as P6,br as A6,aU as B6,bs as $6}from"./core-DKVhzpCZ.js";import{_ as io}from"./index-CvszuOpk.js";const La="1.1.0";let te=class Hn extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Hn?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Hn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${La}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ce(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const ao=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,co=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,uo=/^\(.+?\).*?$/,fs=/^tuple(?<array>(\[(\d*)\])*)$/;function Vn(e){let t=e.type;if(fs.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Vn(o),s<n-1&&(t+=", ")}const r=Ce(fs,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Vn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function st(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Vn(s),r!==n-1&&(t+=", ")}return t}function Wt(e){var t;return e.type==="function"?`function ${e.name}(${st(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${st(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${st(e.inputs)})`:e.type==="error"?`error ${e.name}(${st(e.inputs)})`:e.type==="constructor"?`constructor(${st(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const fo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _a(e){return fo.test(e)}function Ma(e){return Ce(fo,e)}const lo=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ua(e){return lo.test(e)}function ja(e){return Ce(lo,e)}const bo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Da(e){return bo.test(e)}function Ga(e){return Ce(bo,e)}const ho=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function en(e){return ho.test(e)}function Ha(e){return Ce(ho,e)}const po=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Va(e){return po.test(e)}function qa(e){return Ce(po,e)}const yo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Za(e){return yo.test(e)}function Wa(e){return Ce(yo,e)}const Ya=/^receive\(\) external payable$/;function Ka(e){return Ya.test(e)}const ds=new Set(["memory","indexed","storage","calldata"]),Xa=new Set(["indexed"]),qn=new Set(["calldata","memory","storage"]);class Ja extends te{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Qa extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class ec extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class tc extends te{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class nc extends te{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class rc extends te{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class sc extends te{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class oc extends te{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class ic extends te{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pt extends te{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ac extends te{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class cc extends te{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class uc extends te{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class fc extends te{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function dc(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const vn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Zn(e,t={}){if(Da(e))return lc(e,t);if(Ua(e))return bc(e,t);if(_a(e))return hc(e,t);if(Va(e))return pc(e,t);if(Za(e))return yc(e);if(Ka(e))return{type:"receive",stateMutability:"payable"};throw new ac({signature:e})}function lc(e,t={}){const n=Ga(e);if(!n)throw new pt({signature:e,type:"function"});const r=ne(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(ke(r[a],{modifiers:qn,structs:t,type:"function"}));const i=[];if(n.returns){const a=ne(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(ke(a[u],{modifiers:qn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function bc(e,t={}){const n=ja(e);if(!n)throw new pt({signature:e,type:"event"});const r=ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ke(r[i],{modifiers:Xa,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function hc(e,t={}){const n=Ma(e);if(!n)throw new pt({signature:e,type:"error"});const r=ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ke(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function pc(e,t={}){const n=qa(e);if(!n)throw new pt({signature:e,type:"constructor"});const r=ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ke(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function yc(e){const t=Wa(e);if(!t)throw new pt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const mc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,gc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,wc=/^u?int$/;function ke(e,t){var d,l;const n=dc(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(vn.has(n))return vn.get(n);const r=uo.test(e),s=Ce(r?gc:mc,e);if(!s)throw new nc({param:e});if(s.name&&vc(s.name))throw new rc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const b=ne(s.type),p=[],h=b.length;for(let w=0;w<h;w++)p.push(ke(b[w],{structs:a}));u={components:p}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(wc.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!mo(c))throw new ec({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new sc({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(qn.has(s.modifier)&&!Ec(c,!!s.array))throw new oc({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return vn.set(n,f),f}function ne(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ne(a,[...t,n.trim()]):ne(a,t,`${n}${i}`,r);case"(":return ne(a,t,`${n}${i}`,r+1);case")":return ne(a,t,`${n}${i}`,r-1);default:return ne(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new fc({current:n,depth:r});return t.push(n.trim()),t}function mo(e){return e==="address"||e==="bool"||e==="function"||e==="string"||ao.test(e)||co.test(e)}const xc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function vc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||ao.test(e)||co.test(e)||xc.test(e)}function Ec(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function br(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!en(a))continue;const c=Ha(a);if(!c)throw new pt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const h=ke(p,{type:"struct"});f.push(h)}if(!f.length)throw new cc({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=go(c,t)}return r}const Pc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function go(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(uo.test(i.type))r.push(i);else{const c=Ce(Pc,i.type);if(!(c!=null&&c.type))throw new ic({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new uc({type:f});r.push({...i,type:`tuple${u??""}`,components:go(t[f]??[],t,new Set([...n,f]))})}else if(mo(f))r.push(i);else throw new Qa({type:f})}}return r}function wo(e){const t=br(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];en(o)||n.push(Zn(o,t))}return n}function ls(e){let t;if(typeof e=="string")t=Zn(e);else{const n=br(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!en(o)){t=Zn(o,n);break}}}if(!t)throw new Ja({signature:e});return t}function bs(e){const t=[];if(typeof e=="string"){const n=ne(e),r=n.length;for(let s=0;s<r;s++)t.push(ke(n[s],{modifiers:ds}))}else{const n=br(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(en(o))continue;const i=ne(o),a=i.length;for(let c=0;c<a;c++)t.push(ke(i[c],{modifiers:ds,structs:n}))}}if(t.length===0)throw new tc({params:e});return t}function _(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function ce(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new zc(e.type);return`${e.name}(${tn(e.inputs,{includeName:t})})`}function tn(e,{includeName:t=!1}={}){return e?e.map(n=>Ac(n,{includeName:t})).join(t?", ":","):""}function Ac(e,{includeName:t}){return e.type.startsWith("tuple")?`(${tn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Bc extends T{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class hs extends T{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class xo extends T{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${tn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class kt extends T{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class $c extends T{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ic extends T{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${G(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Sc extends T{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Tc extends T{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class ps extends T{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class vo extends T{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class kc extends T{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Eo extends T{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class ys extends T{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ft extends T{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Po extends T{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Nc extends T{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Cc extends T{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ce(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ce(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Oc=class extends T{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class At extends T{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${tn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class nn extends T{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ce(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Rc extends T{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Fc extends T{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Ao=class extends T{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class zc extends T{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Lc extends T{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const _c=new TextEncoder;function yt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Uc(e,t):typeof e=="boolean"?Mc(e,t):we(e)?xe(e,t):Ve(e,t)}function Mc(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Xe(n,{size:t.size}),lr(n,{size:t.size})):n}const ve={zero:48,nine:57,A:65,F:70,a:97,f:102};function ms(e){if(e>=ve.zero&&e<=ve.nine)return e-ve.zero;if(e>=ve.A&&e<=ve.F)return e-(ve.A-10);if(e>=ve.a&&e<=ve.f)return e-(ve.a-10)}function xe(e,t={}){let n=e;t.size&&(Xe(n,{size:t.size}),n=lr(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=ms(r.charCodeAt(a++)),u=ms(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new T(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Uc(e,t){const n=L(e,t);return xe(n)}function Ve(e,t={}){const n=_c.encode(e);return typeof t.size=="number"?(Xe(n,{size:t.size}),lr(n,{dir:"right",size:t.size})):n}const Ht=BigInt(2**32-1),gs=BigInt(32);function jc(e,t=!1){return t?{h:Number(e&Ht),l:Number(e>>gs&Ht)}:{h:Number(e>>gs&Ht)|0,l:Number(e&Ht)|0}}function Dc(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=jc(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Gc=(e,t,n)=>e<<n|t>>>32-n,Hc=(e,t,n)=>t<<n|e>>>32-n,Vc=(e,t,n)=>t<<n-32|e>>>64-n,qc=(e,t,n)=>e<<n-32|t>>>64-n,nt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zc(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Bt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ze(e,...t){if(!Zc(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Wc(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Bt(e.outputLen),Bt(e.blockLen)}function dt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Bo(e,t){Ze(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Yc(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function lt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function En(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pe(e,t){return e<<32-t|e>>>t}const Kc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Xc(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Jc(e){for(let t=0;t<e.length;t++)e[t]=Xc(e[t]);return e}const ws=Kc?e=>e:Jc;function Qc(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function rn(e){return typeof e=="string"&&(e=Qc(e)),Ze(e),e}function e0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ze(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class hr{}function $o(e){const t=r=>e().update(rn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function t0(e=32){if(nt&&typeof nt.getRandomValues=="function")return nt.getRandomValues(new Uint8Array(e));if(nt&&typeof nt.randomBytes=="function")return Uint8Array.from(nt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const n0=BigInt(0),Et=BigInt(1),r0=BigInt(2),s0=BigInt(7),o0=BigInt(256),i0=BigInt(113),Io=[],So=[],To=[];for(let e=0,t=Et,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Io.push(2*(5*r+n)),So.push((e+1)*(e+2)/2%64);let s=n0;for(let o=0;o<7;o++)t=(t<<Et^(t>>s0)*i0)%o0,t&r0&&(s^=Et<<(Et<<BigInt(o))-Et);To.push(s)}const ko=Dc(To,!0),a0=ko[0],c0=ko[1],xs=(e,t,n)=>n>32?Vc(e,t,n):Gc(e,t,n),vs=(e,t,n)=>n>32?qc(e,t,n):Hc(e,t,n);function u0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=xs(u,f,1)^n[a],l=vs(u,f,1)^n[a+1];for(let b=0;b<50;b+=10)e[i+b]^=d,e[i+b+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=So[i],c=xs(s,o,a),u=vs(s,o,a),f=Io[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=a0[r],e[1]^=c0[r]}lt(n)}class pr extends hr{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Bt(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Yc(this.state)}clone(){return this._cloneInto()}keccak(){ws(this.state32),u0(this.state32,this.rounds),ws(this.state32),this.posOut=0,this.pos=0}update(t){dt(this),t=rn(t),Ze(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){dt(this,!1),Ze(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Bt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Bo(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new pr(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const f0=(e,t,n)=>$o(()=>new pr(t,e,n)),No=f0(1,136,256/8);function q(e,t){const n=t||"hex",r=No(we(e,{strict:!1})?yt(e):e);return n==="bytes"?r:ze(r)}const d0=e=>q(yt(e));function l0(e){return d0(e)}function b0(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new T("Unable to normalize signature.");return s}const h0=e=>{const t=typeof e=="string"?e:Wt(e);return b0(t)};function Co(e){return l0(h0(e))}const sn=Co;let Le=class extends T{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};const Pn=new eo(8192);function on(e,t){if(Pn.has(`${e}.${t}`))return Pn.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=q(Ve(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Pn.set(`${e}.${t}`,o),o}function Oo(e,t){if(!ae(e,{strict:!1}))throw new Le({address:e});return on(e,t)}const p0=/^0x[a-fA-F0-9]{40}$/,An=new eo(8192);function ae(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(An.has(r))return An.get(r);const s=p0.test(e)?e.toLowerCase()===e?!0:n?on(e)===e:!0:!1;return An.set(r,s),s}function ue(e){return typeof e[0]=="string"?mt(e):y0(e)}function y0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function mt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function bt(e,t,n,{strict:r}={}){return we(e,{strict:!1})?m0(e,t,n,{strict:r}):zo(e,t,n,{strict:r})}function Ro(e,t){if(typeof t=="number"&&t>0&&t>G(e)-1)throw new to({offset:t,position:"start",size:G(e)})}function Fo(e,t,n){if(typeof t=="number"&&typeof n=="number"&&G(e)!==n-t)throw new to({offset:n,position:"end",size:G(e)})}function zo(e,t,n,{strict:r}={}){Ro(e,t);const s=e.slice(t,n);return r&&Fo(s,t,n),s}function m0(e,t,n,{strict:r}={}){Ro(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Fo(s,t,n),s}const g0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Lo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Me(e,t){if(e.length!==t.length)throw new Sc({expectedLength:e.length,givenLength:t.length});const n=w0({params:e,values:t}),r=mr(n);return r.length===0?"0x":r}function w0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(yr({param:e[r],value:t[r]}));return n}function yr({param:e,value:t}){const n=gr(e.type);if(n){const[r,s]=n;return v0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return $0(t,{param:e});if(e.type==="address")return x0(t);if(e.type==="bool")return P0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Lo.exec(e.type)??[];return A0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return E0(t,{param:e});if(e.type==="string")return B0(t);throw new Rc(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function mr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=G(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(L(t+s,{size:32})),r.push(a),s+=G(a)):n.push(a)}return ue([...n,...r])}function x0(e){if(!ae(e))throw new Le({address:e});return{dynamic:!1,encoded:Ge(e.toLowerCase())}}function v0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Ao(e);if(!r&&e.length!==t)throw new $c({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=yr({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=mr(o);if(r){const a=L(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ue([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ue(o.map(({encoded:i})=>i))}}function E0(e,{param:t}){const[,n]=t.type.split("bytes"),r=G(e);if(!n){let s=e;return r%32!==0&&(s=Ge(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ue([Ge(L(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Ic({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ge(e,{dir:"right"})}}function P0(e){if(typeof e!="boolean")throw new T(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ge(Aa(e))}}function A0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ba({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:L(e,{size:32,signed:t})}}function B0(e){const t=Un(e),n=Math.ceil(G(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ge(bt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ue([Ge(L(G(t),{size:32})),...r])}}function $0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=yr({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?mr(r):ue(r.map(({encoded:s})=>s))}}function gr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Nt=e=>bt(Co(e),0,4);function Je(e){const{abi:t,args:n=[],name:r}=e,s=we(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Nt(a)===r:a.type==="event"?sn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Wn(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=_o(a.inputs,i.inputs,n);if(u)throw new Cc({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Wn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ae(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Wn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Wn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function _o(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return _o(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ae(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ae(n[r],{strict:!1}):!1)return i}}const Es="/docs/contract/encodeEventTopics";function Ct(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Je({abi:t,name:n});if(!u)throw new ys(n,{docsPath:Es});s=u}if(s.type!=="event")throw new ys(void 0,{docsPath:Es});const o=ce(s),i=sn(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((b,p)=>Ps({param:d,value:f[l][p]})):typeof f[l]<"u"&&f[l]!==null?Ps({param:d,value:f[l]}):null))??[])}return[i,...a]}function Ps({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return q(yt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Lc(e.type);return Me([e],[t])}function an(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function Mo(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=an(e,{method:"eth_newFilter"}),f=o?Ct({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?L(i):i,toBlock:typeof c=="bigint"?L(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function be(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const As="/docs/contract/encodeFunctionData";function I0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Je({abi:t,args:n,name:r});if(!o)throw new ft(r,{docsPath:As});s=o}if(s.type!=="function")throw new ft(void 0,{docsPath:As});return{abi:[s],functionName:Nt(ce(s))}}function he(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:I0(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?Me(s.inputs,t??[]):void 0;return mt([o,i??"0x"])}const S0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Uo={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},T0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Bs=class extends T{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},jo=class extends T{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},k0=class extends T{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const N0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new k0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new jo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Bs({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Bs({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function wr(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(N0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function C0(e,t={}){typeof t.size<"u"&&Xe(e,{size:t.size});const n=Z(e,t);return Te(n,t)}function O0(e,t={}){let n=e;if(typeof t.size<"u"&&(Xe(n,{size:t.size}),n=Jt(n)),n.length>1||n[0]>1)throw new $a(n);return!!n[0]}function $e(e,t={}){typeof t.size<"u"&&Xe(e,{size:t.size});const n=Z(e,t);return Se(n,t)}function R0(e,t={}){let n=e;return typeof t.size<"u"&&(Xe(n,{size:t.size}),n=Jt(n,{dir:"right"})),new TextDecoder().decode(n)}function Ot(e,t){const n=typeof t=="string"?xe(t):t,r=wr(n);if(G(n)===0&&e.length>0)throw new kt;if(G(t)&&G(t)<32)throw new xo({data:typeof t=="string"?t:Z(t),params:e,size:G(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=at(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function at(e,t,{staticPosition:n}){const r=gr(t.type);if(r){const[s,o]=r;return z0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return U0(e,t,{staticPosition:n});if(t.type==="address")return F0(e);if(t.type==="bool")return L0(e);if(t.type.startsWith("bytes"))return _0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return M0(e,t);if(t.type==="string")return j0(e,{staticPosition:n});throw new Fc(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const $s=32,Yn=32;function F0(e){const t=e.readBytes(32);return[on(Z(zo(t,-20))),32]}function z0(e,t,{length:n,staticPosition:r}){if(!n){const i=$e(e.readBytes(Yn)),a=r+i,c=a+$s;e.setPosition(a);const u=$e(e.readBytes($s)),f=$t(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[p,h]=at(e,t,{staticPosition:c});d+=h,l.push(p)}return e.setPosition(r+32),[l,32]}if($t(t)){const i=$e(e.readBytes(Yn)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=at(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=at(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function L0(e){return[O0(e.readBytes(32),{size:32}),32]}function _0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=$e(e.readBytes(32));e.setPosition(n+i);const a=$e(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Z(c),32]}return[Z(e.readBytes(Number.parseInt(s,10),32)),32]}function M0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?C0(s,{signed:n}):$e(s,{signed:n}),32]}function U0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if($t(t)){const i=$e(e.readBytes(Yn)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=at(e,u,{staticPosition:a});o+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=at(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function j0(e,{staticPosition:t}){const n=$e(e.readBytes(32)),r=t+n;e.setPosition(r);const s=$e(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=R0(Jt(o));return e.setPosition(t+32),[i,32]}function $t(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some($t);const n=gr(e.type);return!!(n&&$t({...e,type:n[1]}))}function Do(e){const{abi:t,data:n}=e,r=bt(n,0,4);if(r==="0x")throw new kt;const o=[...t||[],Uo,T0].find(i=>i.type==="error"&&r===Nt(ce(i)));if(!o)throw new vo(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Ot(o.inputs,bt(n,4)):void 0,errorName:o.name}}function Go({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ie(t[o]):t[o]}`).join(", ")})`}function Ho(e,t="wei"){return Ia(e,Sa[t])}class D0 extends T{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class G0 extends T{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Is(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function H0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Is(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Is(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function cn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class V0 extends T{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class q0 extends T{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",cn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Vo extends T{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class qo extends T{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Z0 extends T{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class W0 extends T{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class Zo extends T{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){var w;const p=n?be(n):void 0;let h=cn({from:p==null?void 0:p.address,to:d,value:typeof l<"u"&&`${Ho(l)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${He(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${He(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${He(u)} gwei`,nonce:f});b&&(h+=`
${H0(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Wo extends T{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Je({abi:n,args:r,name:i}),u=c?Go({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ce(c,{includeName:!0}):void 0,d=cn({address:s&&Ta(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Kn extends T{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Do({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=S0[b]}else{const b=f?ce(f,{includeName:!0}):void 0,p=f&&l?Go({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[b?`Error: ${b}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof vo&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Y0 extends T{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class K0 extends T{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class un extends T{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const X0=3;function ht(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof un?e:e instanceof T?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,b=e instanceof kt?new Y0({functionName:o}):[X0,ka.code].includes(c)&&(u||f||d||l)?new Kn({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Na?f:l??d}):e;return new Wo(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function J0(e){const t=q(`0x${e.substring(4)}`).substring(26);return on(`0x${t}`)}async function Q0({hash:e,signature:t}){const n=we(e)?e:ze(e),{secp256k1:r}=await io(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Il);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),p=Ss(b);return new r.Signature(Te(u),Te(f)).addRecoveryBit(p)}const i=we(t)?t:ze(t);if(G(i)!==65)throw new Error("invalid signature length");const a=Se(`0x${i.slice(130)}`),c=Ss(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ss(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Yo({hash:e,signature:t}){return J0(await Q0({hash:e,signature:t}))}function eu(e,t="hex"){const n=Ko(e),r=wr(new Uint8Array(n.length));return n.encode(r),t==="hex"?Z(r.bytes):r.bytes}function Ko(e){return Array.isArray(e)?tu(e.map(t=>Ko(t))):nu(e)}function tu(e){const t=e.reduce((s,o)=>s+o.length,0),n=Xo(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function nu(e){const t=typeof e=="string"?xe(e):e,n=Xo(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Xo(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new T("Length is too large.")}function ru(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=q(mt(["0x05",eu([t?L(t):"0x",s,n?L(n):"0x"])]));return r==="bytes"?xe(o):o}async function Jo(e){const{authorization:t,signature:n}=e;return Yo({hash:ru(t),signature:n??t})}class su extends T{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var p;const b=cn({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ho(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${He(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${He(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${He(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function xr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof T?e.walk(s=>(s==null?void 0:s.code)===Gt.code):e;return r instanceof T?new Gt({cause:e,message:r.details}):Gt.nodeMessage.test(n)?new Gt({cause:e,message:e.details}):jn.nodeMessage.test(n)?new jn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Yr.nodeMessage.test(n)?new Yr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Kr.nodeMessage.test(n)?new Kr({cause:e,nonce:t==null?void 0:t.nonce}):Xr.nodeMessage.test(n)?new Xr({cause:e,nonce:t==null?void 0:t.nonce}):Jr.nodeMessage.test(n)?new Jr({cause:e,nonce:t==null?void 0:t.nonce}):Qr.nodeMessage.test(n)?new Qr({cause:e}):es.nodeMessage.test(n)?new es({cause:e,gas:t==null?void 0:t.gas}):ts.nodeMessage.test(n)?new ts({cause:e,gas:t==null?void 0:t.gas}):ns.nodeMessage.test(n)?new ns({cause:e}):Dn.nodeMessage.test(n)?new Dn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Qt({cause:e})}function ou(e,{docsPath:t,...n}){const r=(()=>{const s=xr(e,n);return s instanceof Qt?e:s})();return new su(r,{docsPath:t,...n})}function vr(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const iu={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function fn(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=au(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>Z(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=L(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=L(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=L(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=L(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=L(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=L(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=iu[e.type]),typeof e.value<"u"&&(n.value=L(e.value)),n}function au(e){return e.map(t=>({address:t.address,r:t.r?L(BigInt(t.r)):t.r,s:t.s?L(BigInt(t.s)):t.s,chainId:L(t.chainId),nonce:L(t.nonce),...typeof t.yParity<"u"?{yParity:L(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:L(t.v)}:{}}))}function Ts(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new rs({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new rs({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function cu(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=L(t)),n!==void 0&&(i.nonce=L(n)),r!==void 0&&(i.state=Ts(r)),s!==void 0){if(i.state)throw new G0;i.stateDiff=Ts(s)}return i}function Er(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ae(n,{strict:!1}))throw new Le({address:n});if(t[n])throw new D0({address:n});t[n]=cu(r)}return t}const uu=2n**256n-1n;function Rt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?be(t):void 0;if(i&&!ae(i.address))throw new Le({address:i.address});if(o&&!ae(o))throw new Le({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new V0;if(r&&r>uu)throw new jn({maxFeePerGas:r});if(s&&r&&s>r)throw new Dn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class fu extends T{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Pr extends T{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class du extends T{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${He(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Qo extends T{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const ei={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ti(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Se(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Se(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?ei[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=lu(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function lu(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function ni(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:ti(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function me(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const o=s??!1,i=n!==void 0?L(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new Qo({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||ni)(a,"getBlock")}async function Ar(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function bu(e,t){return ri(e,t)}async function ri(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await _(e,me,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Te(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):_(e,me,"getBlock")({}),_(e,Ar,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Pr;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function hu(e,t){return Xn(e,t)}async function Xn(e,t){var l,b;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var p,h;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(i<1)throw new fu;const c=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=p=>p*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await _(e,me,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Pr;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await ri(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await _(e,Ar,"getGasPrice")({}))}}async function si(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?L(r):n]},{dedupe:!!r});return Se(s)}function oi(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>xe(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>Z(o))}function ii(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>xe(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>xe(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>Z(i))}function pu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function yu(e,t,n){return e&t^~e&n}function mu(e,t,n){return e&t^e&n^t&n}class gu extends hr{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=En(this.buffer)}update(t){dt(this),t=rn(t),Ze(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=En(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){dt(this),Bo(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,lt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;pu(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=En(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Re=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wu=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fe=new Uint32Array(64);class xu extends gu{constructor(t=32){super(64,t,8,!1),this.A=Re[0]|0,this.B=Re[1]|0,this.C=Re[2]|0,this.D=Re[3]|0,this.E=Re[4]|0,this.F=Re[5]|0,this.G=Re[6]|0,this.H=Re[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Fe[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Fe[d-15],b=Fe[d-2],p=pe(l,7)^pe(l,18)^l>>>3,h=pe(b,17)^pe(b,19)^b>>>10;Fe[d]=h+Fe[d-7]+p+Fe[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=pe(a,6)^pe(a,11)^pe(a,25),b=f+l+yu(a,c,u)+wu[d]+Fe[d]|0,h=(pe(r,2)^pe(r,13)^pe(r,22))+mu(r,s,o)|0;f=u,u=c,c=a,a=i+b|0,i=o,o=s,s=r,r=b+h|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){lt(Fe)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const ai=$o(()=>new xu),vu=ai;function Eu(e,t){return vu(we(e,{strict:!1})?yt(e):e)}function Pu(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Eu(t);return s.set([n],0),r==="bytes"?s:Z(s)}function Au(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(Pu({commitment:o,to:r,version:n}));return s}const ks=6,ci=32,Br=4096,ui=ci*Br,Ns=ui*ks-1-1*Br*ks;class Bu extends T{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class $u extends T{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Iu(e){const t=typeof e.data=="string"?xe(e.data):e.data,n=G(t);if(!n)throw new $u;if(n>Ns)throw new Bu({maxSize:Ns,size:n});const r=[];let s=!0,o=0;for(;s;){const i=wr(new Uint8Array(ui));let a=0;for(;a<Br;){const c=t.slice(o,o+(ci-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>Z(i.bytes))}function Su(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Iu({data:t}),o=e.commitments??oi({blobs:s,kzg:n,to:r}),i=e.proofs??ii({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Tu(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new q0({transaction:e})}async function fi(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Se(t)}const ku=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Cs=new Map;async function di(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=ku,type:f}=t,d=n&&be(n),l={...t,...d?{from:d==null?void 0:d.address}:{}};let b;async function p(){return b||(b=await _(e,me,"getBlock")({blockTag:"latest"}),b)}let h;async function w(){return h||(s?s.id:typeof t.chainId<"u"?t.chainId:(h=await _(e,fi,"getChainId")({}),h))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const m=await w();l.nonce=await c.consume({address:d.address,chainId:m,client:e})}else l.nonce=await _(e,si,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const m=oi({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const v=Au({commitments:m,to:"hex"});l.blobVersionedHashes=v}if(u.includes("sidecars")){const v=ii({blobs:r,commitments:m,kzg:i}),g=Su({blobs:r,commitments:m,proofs:v,to:"hex"});l.sidecars=g}}if(u.includes("chainId")&&(l.chainId=await w()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=Tu(l)}catch{let m=Cs.get(e.uid);if(typeof m>"u"){const v=await p();m=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",Cs.set(e.uid,m)}l.type=m?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const m=await p(),{maxFeePerGas:v,maxPriorityFeePerGas:g}=await Xn(e,{block:m,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new du({maxPriorityFeePerGas:g});l.maxPriorityFeePerGas=g,l.maxFeePerGas=v}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Pr;if(typeof t.gasPrice>"u"){const m=await p(),{gasPrice:v}=await Xn(e,{block:m,chain:s,request:l,type:"legacy"});l.gasPrice=v}}return u.includes("gas")&&typeof o>"u"&&(l.gas=await _(e,$r,"estimateGas")({...l,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),Rt(l),delete l.parameters,l}async function $r(e,t){var i,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?be(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:u,authorizationList:f,blobs:d,blobVersionedHashes:l,blockNumber:b,blockTag:p,data:h,gas:w,gasPrice:m,maxFeePerBlobGas:v,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:x,value:B,stateOverride:E,...$}=r?await di(e,{...t,parameters:o}):t,F=(typeof b=="bigint"?L(b):void 0)||p,S=Er(E),O=await(async()=>{if($.to)return $.to;if(f&&f.length>0)return await Jo({authorization:f[0]}).catch(()=>{throw new T("`to` is required. Could not infer from `authorizationList`")})})();Rt(t);const k=(c=(a=(i=e.chain)==null?void 0:i.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,A=(k||fn)({...vr($,{format:k}),account:s,accessList:u,authorizationList:f,blobs:d,blobVersionedHashes:l,data:h,gas:w,gasPrice:m,maxFeePerBlobGas:v,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:x,to:O,value:B},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:S?[A,F??e.experimental_blockTag??"latest",S]:F?[A,F]:[A]}))}catch(u){throw ou(u,{...t,account:s,chain:e.chain})}}async function Nu(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=he({abi:n,args:s,functionName:o});try{return await _(e,$r,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?be(a.account):void 0;throw ht(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}function Ft(e,t){if(!ae(e,{strict:!1}))throw new Le({address:e});if(!ae(t,{strict:!1}))throw new Le({address:t});return e.toLowerCase()===t.toLowerCase()}const Os="/docs/contract/decodeEventLog";function Ir(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new kc({docsPath:Os});const c=t.find(h=>h.type==="event"&&i===sn(ce(h)));if(!(c&&"name"in c)||c.type!=="event")throw new Eo(i,{docsPath:Os});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(h=>!("name"in h&&h.name)),l=d?[]:{},b=f.map((h,w)=>[h,w]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<b.length;h++){const[w,m]=b[h],v=a[h];if(!v)throw new nn({abiItem:c,param:w});l[d?m:w.name||m]=Cu({param:w,value:v})}const p=f.filter(h=>!("indexed"in h&&h.indexed));if(p.length>0){if(n&&n!=="0x")try{const h=Ot(p,n);if(h)if(d)for(let w=0;w<f.length;w++)l[w]=l[w]??h.shift();else for(let w=0;w<p.length;w++)l[p[w].name]=h[w]}catch(h){if(o)throw h instanceof xo||h instanceof jo?new At({abiItem:c,data:n,params:p,size:G(n)}):h}else if(o)throw new At({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Cu({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Ot([e],t)||[])[0]}function Sr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var a;try{const c=t.find(f=>f.type==="event"&&i.topics[0]===sn(f));if(!c)return null;const u=Ir({...i,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!Ou({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,f;if(c instanceof Eo)return null;if(c instanceof At||c instanceof nn){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function Ou(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Ft(i,a):o.type==="string"||o.type==="bytes"?q(yt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Ne(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Tr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(h=>Ct({abi:[h],eventName:h.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?L(r):r,toBlock:typeof s=="bigint"?L(s):s}]});const b=l.map(p=>Ne(p));return f?Sr({abi:f,args:a,logs:b,strict:u}):b}async function li(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?Je({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return _(e,Tr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const Bn="/docs/contract/decodeFunctionResult";function Qe(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Je({abi:t,args:n,name:r});if(!a)throw new ft(r,{docsPath:Bn});o=a}if(o.type!=="function")throw new ft(void 0,{docsPath:Bn});if(!o.outputs)throw new Po(o.name,{docsPath:Bn});const i=Ot(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kr=BigInt(0),Jn=BigInt(1);function zt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Nr(e){if(!zt(e))throw new Error("Uint8Array expected")}function It(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Vt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function bi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?kr:BigInt("0x"+e)}const hi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ru=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function St(e){if(Nr(e),hi)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Ru[e[n]];return t}const Ee={_0:48,_9:57,A:65,F:70,a:97,f:102};function Rs(e){if(e>=Ee._0&&e<=Ee._9)return e-Ee._0;if(e>=Ee.A&&e<=Ee.F)return e-(Ee.A-10);if(e>=Ee.a&&e<=Ee.f)return e-(Ee.a-10)}function Yt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(hi)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Rs(e.charCodeAt(o)),a=Rs(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function qe(e){return bi(St(e))}function pi(e){return Nr(e),bi(St(Uint8Array.from(e).reverse()))}function Lt(e,t){return Yt(e.toString(16).padStart(t*2,"0"))}function yi(e,t){return Lt(e,t).reverse()}function oe(e,t,n){let r;if(typeof t=="string")try{r=Yt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(zt(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Kt(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Nr(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const $n=e=>typeof e=="bigint"&&kr<=e;function Cr(e,t,n){return $n(e)&&$n(t)&&$n(n)&&t<=e&&e<n}function ct(e,t,n,r){if(!Cr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Fu(e){let t;for(t=0;e>kr;e>>=Jn,t+=1);return t}const dn=e=>(Jn<<BigInt(e))-Jn,In=e=>new Uint8Array(e),Fs=e=>Uint8Array.from(e);function zu(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=In(e),s=In(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=In(0))=>{s=a(Fs([0]),d),r=a(),d.length!==0&&(s=a(Fs([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const b=r.slice();l.push(b),d+=r.length}return Kt(...l)};return(d,l)=>{i(),c(d);let b;for(;!(b=l(u()));)c();return i(),b}}const Lu={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||zt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ln(e,t,n={}){const r=(s,o,i)=>{const a=Lu[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function zs(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const _u="0.1.1";function Mu(){return _u}class M extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof M){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof M&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Mu()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return mi(this,t)}}function mi(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?mi(e.cause,t):t?null:e}function _t(e,t){if(ot(e)>t)throw new nf({givenSize:ot(e),maxSize:t})}const Pe={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ls(e){if(e>=Pe.zero&&e<=Pe.nine)return e-Pe.zero;if(e>=Pe.A&&e<=Pe.F)return e-(Pe.A-10);if(e>=Pe.a&&e<=Pe.f)return e-(Pe.a-10)}function Uu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new rf({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function gi(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function bn(e,t){if(re(e)>t)throw new ff({givenSize:re(e),maxSize:t})}function ju(e,t){if(typeof t=="number"&&t>0&&t>re(e)-1)throw new Ii({offset:t,position:"start",size:re(e)})}function Du(e,t,n){if(typeof t=="number"&&typeof n=="number"&&re(e)!==n-t)throw new Ii({offset:n,position:"end",size:re(e)})}function wi(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new df({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Gu="#__bigint";function xi(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Gu:s,n)}const Hu=new TextDecoder,Vu=new TextEncoder;function qu(e){return e instanceof Uint8Array?e:typeof e=="string"?vi(e):Zu(e)}function Zu(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function vi(e,t={}){const{size:n}=t;let r=e;n&&(bn(e,n),r=Ye(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Ls(s.charCodeAt(c++)),f=Ls(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new M(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function Wu(e,t={}){const{size:n}=t,r=Vu.encode(e);return typeof n=="number"?(_t(r,n),Yu(r,n)):r}function Yu(e,t){return Uu(e,{dir:"right",size:t})}function ot(e){return e.length}function Ku(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Xu(e,t={}){const{size:n}=t;typeof n<"u"&&_t(e,n);const r=de(e,t);return Ai(r,t)}function Ju(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(_t(r,n),r=Ei(r)),r.length>1||r[0]>1)throw new tf(r);return!!r[0]}function Ie(e,t={}){const{size:n}=t;typeof n<"u"&&_t(e,n);const r=de(e,t);return Bi(r,t)}function Qu(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(_t(r,n),r=ef(r)),Hu.decode(r)}function Ei(e){return gi(e,{dir:"left"})}function ef(e){return gi(e,{dir:"right"})}class tf extends M{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let nf=class extends M{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},rf=class extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const sf=new TextEncoder,of=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function af(e,t={}){const{strict:n=!1}=t;if(!e)throw new _s(e);if(typeof e!="string")throw new _s(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ms(e);if(!e.startsWith("0x"))throw new Ms(e)}function fe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function cf(e){return e instanceof Uint8Array?de(e):Array.isArray(e)?de(new Uint8Array(e)):e}function Pi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(bn(n,t.size),We(n,t.size)):n}function de(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=of[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(bn(r,t.size),Ye(r,t.size)):r}function X(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new $i({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?We(c,r):c}function Or(e,t={}){return de(sf.encode(e),t)}function We(e,t){return wi(e,{dir:"left",size:t})}function Ye(e,t){return wi(e,{dir:"right",size:t})}function ge(e,t,n,r={}){const{strict:s}=r;ju(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Du(o,t,n),o}function re(e){return Math.ceil((e.length-2)/2)}function Ai(e,t={}){const{signed:n}=t;t.size&&bn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Bi(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Ai(e,t))}function uf(e,t={}){const{strict:n=!1}=t;try{return af(e,{strict:n}),!0}catch{return!1}}class $i extends M{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class _s extends M{constructor(t){super(`Value \`${typeof t=="object"?xi(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ms extends M{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class ff extends M{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ii extends M{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class df extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function lf(e){return{address:e.address,amount:X(e.amount),index:X(e.index),validatorIndex:X(e.validatorIndex)}}function Si(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:X(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:X(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:X(e.gasLimit)},...typeof e.number=="bigint"&&{number:X(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:X(e.prevRandao)},...typeof e.time=="bigint"&&{time:X(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(lf)}}}const bf="0x82ad56cb",Ti="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",hf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",pf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Rr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Qn extends T{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ki extends T{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Sn="/docs/contract/encodeDeployData";function Fr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Bc({docsPath:Sn});if(!("inputs"in s))throw new hs({docsPath:Sn});if(!s.inputs||s.inputs.length===0)throw new hs({docsPath:Sn});const o=Me(s.inputs,n);return mt([r,o])}function gt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Qn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Qn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Ni(e,{docsPath:t,...n}){const r=(()=>{const s=xr(e,n);return s instanceof Qt?e:s})();return new Zo(r,{docsPath:t,...n})}async function Mt(e,t){var k,j,A,I;const{account:n=e.account,authorizationList:r,batch:s=!!((k=e.batch)!=null&&k.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:p,gasPrice:h,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:v,nonce:g,to:y,value:x,stateOverride:B,...E}=t,$=n?be(n):void 0;if(f&&(l||b))throw new T("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new T("Cannot provide both `code` & `to` as parameters.");const N=f&&d,F=l&&b&&y&&d,S=N||F,O=N?Ci({code:f,data:d}):F?gf({data:d,factory:l,factoryData:b,to:y}):d;try{Rt(t);const P=(typeof o=="bigint"?L(o):void 0)||i,C=u?Si(u):void 0,z=Er(B),U=(I=(A=(j=e.chain)==null?void 0:j.formatters)==null?void 0:A.transactionRequest)==null?void 0:I.format,Y=(U||fn)({...vr(E,{format:U}),accessList:a,account:$,authorizationList:r,blobs:c,data:O,gas:p,gasPrice:h,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:v,nonce:g,to:S?void 0:y,value:x},"call");if(s&&yf({request:Y})&&!z&&!C)try{return await mf(e,{...Y,blockNumber:o,blockTag:i})}catch(K){if(!(K instanceof ki)&&!(K instanceof Qn))throw K}const W=(()=>{const K=[Y,P];return z&&C?[...K,z,C]:z?[...K,z]:C?[...K,{},C]:K})(),H=await e.request({method:"eth_call",params:W});return H==="0x"?{data:void 0}:{data:H}}catch(R){const P=wf(R),{offchainLookup:C,offchainLookupSignature:z}=await io(async()=>{const{offchainLookup:U,offchainLookupSignature:D}=await Promise.resolve().then(()=>hd);return{offchainLookup:U,offchainLookupSignature:D}},void 0);if(e.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===z&&y)return{data:await C(e,{data:P,to:y})};throw S&&(P==null?void 0:P.slice(0,10))==="0x101bb98d"?new K0({factory:l}):Ni(R,{...t,account:$,chain:e.chain})}}function yf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(bf)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function mf(e,t){var h;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return gt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new ki})(),d=(typeof o=="bigint"?L(o):void 0)||i,{schedule:l}=Ca({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(w){return w.reduce((v,{data:g})=>v+(g.length-2),0)>n*2},fn:async w=>{const m=w.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),v=he({abi:Zt,args:[m],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{...u===null?{data:Ci({code:Rr,data:v})}:{to:u,data:v}},d]});return Qe({abi:Zt,args:[m],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:b,success:p}]=await l({data:a,to:c});if(!p)throw new un({data:b});return b==="0x"?{data:void 0}:{data:b}}function Ci(e){const{code:t,data:n}=e;return Fr({abi:wo(["constructor(bytes, bytes)"]),bytecode:Ti,args:[t,n]})}function gf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Fr({abi:wo(["constructor(address, bytes, address, bytes)"]),bytecode:hf,args:[s,t,n,r]})}function wf(e){var n;if(!(e instanceof T))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function le(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=he({abi:n,args:s,functionName:o});try{const{data:c}=await _(e,Mt,"call")({...i,data:a,to:r});return Qe({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw ht(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function xf(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?be(a.account):e.account,u=he({abi:n,args:s,functionName:i});try{const{data:f}=await _(e,Mt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=Qe({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw ht(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const Tn=new Map,Us=new Map;let vf=0;function _e(e,t,n){const r=++vf,s=()=>Tn.get(e)||[],o=()=>{const f=s();Tn.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Us.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(Tn.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...d)=>{var b,p;const l=s();if(l.length!==0)for(const h of l)(p=(b=h.fns)[f])==null||p.call(b,...d)};const u=n(c);return typeof u=="function"&&Us.set(e,u),i}function Ut(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await ss(c);const u=async()=>{s&&(await e({unpoll:o}),await ss(r),u())};u()})(),o}const Ef=new Map,Pf=new Map;function Af(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Ef),r=t(e,Pf);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Bf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Af(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const $f=e=>`blockNumber.${e}`;async function jt(e,{cacheTime:t=e.cacheTime}={}){const n=await Bf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:$f(e.uid),cacheTime:t});return BigInt(n)}async function hn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ne(o));return!("abi"in t)||!t.abi?s:Sr({abi:t.abi,logs:s,strict:n})}async function pn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function If(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const w=l??!1,m=ie(["watchContractEvent",r,s,o,e.uid,i,d,w,a]);return _e(m,{onLogs:u,onError:c},v=>{let g;a!==void 0&&(g=a-1n);let y,x=!1;const B=Ut(async()=>{var E;if(!x){try{y=await _(e,Mo,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:w,fromBlock:a})}catch{}x=!0;return}try{let $;if(y)$=await _(e,hn,"getFilterChanges")({filter:y});else{const N=await _(e,jt,"getBlockNumber")({});g&&g<N?$=await _(e,li,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:g+1n,toBlock:N,strict:w}):$=[],g=N}if($.length===0)return;if(o)v.onLogs($);else for(const N of $)v.onLogs([N])}catch($){y&&$ instanceof no&&(x=!1),(E=v.onError)==null||E.call(v,$)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await _(e,pn,"uninstallFilter")({filter:y}),B()}})})():(()=>{const w=l??!1,m=ie(["watchContractEvent",r,s,o,e.uid,i,d,w]);let v=!0,g=()=>v=!1;return _e(m,{onLogs:u,onError:c},y=>((async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),B=i?Ct({abi:n,eventName:i,args:s}):[],{unsubscribe:E}=await x.subscribe({params:["logs",{address:r,topics:B}],onData($){var F;if(!v)return;const N=$.result;try{const{eventName:S,args:O}=Ir({abi:n,data:N.data,topics:N.topics,strict:l}),k=Ne(N,{args:O,eventName:S});y.onLogs([k])}catch(S){let O,k;if(S instanceof At||S instanceof nn){if(l)return;O=S.abiItem.name,k=(F=S.abiItem.inputs)==null?void 0:F.some(A=>!("name"in A&&A.name))}const j=Ne(N,{args:k?[]:{},eventName:O});y.onLogs([j])}},onError($){var N;(N=y.onError)==null||N.call(y,$)}});g=E,v||g()}catch(x){c==null||c(x)}})(),()=>g()))})()}async function Sf(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Tf={"0x0":"reverted","0x1":"success"};function Oi(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ne(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Se(e.transactionIndex):null,status:e.status?Tf[e.status]:null,type:e.type?ei[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function kf(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?be(e.account):void 0,{config:b,request:p,value:h}=e.transport({chain:n,pollingInterval:f}),w={...b,...h},m={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:p,transport:w,type:i,uid:Oa(),...a?{experimental_blockTag:a}:{}};function v(g){return y=>{const x=y(g);for(const E in m)delete x[E];const B={...g,...x};return Object.assign(B,{extend:v(B)})}}return Object.assign(m,{extend:v(m)})}function zr(e){var n,r,s,o,i,a;if(!(e instanceof T))return!1;const t=e.walk(c=>c instanceof Kn);return t instanceof Kn?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Nf(e){const{abi:t,data:n}=e,r=bt(n,0,4),s=t.find(o=>o.type==="function"&&r===Nt(ce(o)));if(!s)throw new Nc(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ot(s.inputs,bt(n,4)):void 0}}const kn="/docs/contract/encodeErrorResult";function js(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Je({abi:t,args:r,name:n});if(!c)throw new ps(n,{docsPath:kn});s=c}if(s.type!=="error")throw new ps(void 0,{docsPath:kn});const o=ce(s),i=Nt(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Tc(s.name,{docsPath:kn});a=Me(s.inputs,r)}return mt([i,a])}const Nn="/docs/contract/encodeFunctionResult";function Cf(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Je({abi:t,name:n});if(!i)throw new ft(n,{docsPath:Nn});s=i}if(s.type!=="function")throw new ft(void 0,{docsPath:Nn});if(!s.outputs)throw new Po(s.name,{docsPath:Nn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Ao(r)})();return Me(s.outputs,o)}const Dt="x-batch-gateway:true";async function Ri(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Nf({abi:Gn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Dt)?await Ri({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Of(c)}})),Cf({abi:Gn,functionName:"query",result:[s,o]})}function Of(e){return e.name==="HttpRequestError"&&e.status?js({abi:Gn,errorName:"HttpError",args:[e.status,e.shortMessage]}):js({abi:[Uo],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Fi(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return we(t)?t:null}function er(e){let t=new Uint8Array(32).fill(0);if(!e)return Z(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Fi(n[r]),o=s?yt(s):q(Ve(n[r]),"bytes");t=q(ue([t,o]),"bytes")}return Z(t)}function Rf(e){return`[${e.slice(2)}]`}function Ff(e){const t=new Uint8Array(32).fill(0);return e?Fi(e)||q(Ve(e)):Z(t)}function Lr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ve(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Ve(s[o]);i.byteLength>255&&(i=Ve(Rf(Ff(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function zf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[er(o),BigInt(s)]:[er(o)];try{const l=he({abi:os,functionName:"addr",args:d}),b={address:u,abi:ro,functionName:"resolveWithGateways",args:[ze(Lr(o)),l,i??[Dt]],blockNumber:n,blockTag:r},h=await _(e,le,"readContract")(b);if(h[0]==="0x")return null;const w=Qe({abi:os,args:d,functionName:"addr",data:h[0]});return w==="0x"||Jt(w)==="0x00"?null:w}catch(l){if(a)throw l;if(zr(l))return null;throw l}}class Lf extends T{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Pt extends T{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class _r extends T{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class _f extends T{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Mf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Uf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,jf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Df=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Gf(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ds(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function zi({uri:e,gatewayUrls:t}){const n=jf.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ds(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ds(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Mf),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Uf.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Df,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new _r({uri:e})}function Li(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Lf({data:e});return e.image||e.image_url||e.image_data}async function Hf({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Mr({gatewayUrls:e,uri:Li(n)})}catch{throw new _r({uri:t})}}async function Mr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=zi({uri:t,gatewayUrls:e});if(r||await Gf(n))return n;throw new _r({uri:t})}function Vf(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Pt({reason:"Only EIP-155 supported"});if(!i)throw new Pt({reason:"Chain ID not found"});if(!c)throw new Pt({reason:"Contract address not found"});if(!s)throw new Pt({reason:"Token ID not found"});if(!a)throw new Pt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function qf(e,{nft:t}){if(t.namespace==="erc721")return le(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return le(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new _f({namespace:t.namespace})}async function Zf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Wf(e,{gatewayUrls:t,record:n}):Mr({uri:n,gatewayUrls:t})}async function Wf(e,{gatewayUrls:t,record:n}){const r=Vf(n),s=await qf(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=zi({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Mr({uri:Li(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Hf({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function _i(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:ro,args:[ze(Lr(o)),he({abi:is,functionName:"text",args:[er(o),s]}),i??[Dt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await _(e,le,"readContract")(d);if(b[0]==="0x")return null;const p=Qe({abi:is,functionName:"text",data:b[0]});return p===""?null:p}catch(d){if(a)throw d;if(zr(d))return null;throw d}}async function Yf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await _(e,_i,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Zf(e,{record:c,gatewayUrls:r})}catch{return null}}async function Kf(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Ra,args:[n,o,i??[Dt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=_(e,le,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(zr(f))return null;throw f}}async function Xf(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return gt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await _(e,le,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ze(Lr(s))],blockNumber:n,blockTag:r});return c}async function Mi(e,t){var w,m,v;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...p}=t,h=n?be(n):void 0;try{Rt(t);const y=(typeof r=="bigint"?L(r):void 0)||s,x=(v=(m=(w=e.chain)==null?void 0:w.formatters)==null?void 0:m.transactionRequest)==null?void 0:v.format,E=(x||fn)({...vr(p,{format:x}),account:h,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),$=await e.request({method:"eth_createAccessList",params:[E,y]});return{accessList:$.accessList,gasUsed:BigInt($.gasUsed)}}catch(g){throw Ni(g,{...t,account:h,chain:e.chain})}}async function Jf(e){const t=an(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ui(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=an(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>Ct({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?L(o):o,toBlock:typeof a=="bigint"?L(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function ji(e){const t=an(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Qf(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?L(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function ed(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function td(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?L(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Se(o)}async function tr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?L(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class nd extends T{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function rd(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await _(e,le,"readContract")({abi:sd,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new nd({address:n}):i}}const sd=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function od(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function id(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?L(n):void 0,i=await e.request({method:"eth_feeHistory",params:[L(t),o||r,s]},{dedupe:!!o});return od(i)}async function ad(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ne(o));return t.abi?Sr({abi:t.abi,logs:s,strict:n}):s}async function cd({address:e,authorization:t,signature:n}){return Ft(Oo(e),await Jo({authorization:t,signature:n}))}class ud extends T{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(c=>`    ${so(c)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class fd extends T{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${so(n)}`,`Response: ${ie(t)}`],name:"OffchainLookupResponseMalformedError"})}}class dd extends T{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const ld="0x556f1830",Di={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function bd(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Do({data:r,abi:[Di]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:Gi;try{if(!Ft(s,i))throw new dd({sender:i,to:s});const b=a.includes(Dt)?await Ri({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:p}=await Mt(e,{blockNumber:t,blockTag:n,data:ue([u,Me([{type:"bytes"},{type:"bytes"}],[b,f])]),to:s});return p}catch(b){throw new ud({callbackSelector:u,cause:b,data:r,extraData:f,sender:i,urls:a})}}async function Gi({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const i=n[o],a=i.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new as({body:c,details:d!=null&&d.error?ie(d.error):f.statusText,headers:f.headers,status:f.status,url:i});continue}if(!we(d)){r=new fd({result:d,url:i});continue}return d}catch(f){r=new as({body:c,details:f.message,url:i})}}throw r}const hd=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Gi,offchainLookup:bd,offchainLookupAbiItem:Di,offchainLookupSignature:ld},Symbol.toStringTag,{value:"Module"}));function L1(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const pd=`Ethereum Signed Message:
`;function yd(e){const t=typeof e=="string"?Un(e):typeof e.raw=="string"?e.raw:Z(e.raw),n=Un(`${pd}${G(t)}`);return ue([n,t])}function Hi(e,t){return q(yd(e),t)}class md extends T{constructor({domain:t}){super(`Invalid domain "${ie(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class gd extends T{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class wd extends T{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function xd(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(Lo);if(l&&(typeof d=="number"||typeof d=="bigint")){const[h,w,m]=l;L(d,{signed:w==="int",size:Number.parseInt(m,10)/8})}if(f==="address"&&typeof d=="string"&&!ae(d))throw new Le({address:d});const b=f.match(g0);if(b){const[h,w]=b;if(w&&G(d)!==Number.parseInt(w,10))throw new Oc({expectedSize:Number.parseInt(w,10),givenSize:G(d)})}const p=s[f];p&&(Ed(f),o(p,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new md({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new gd({primaryType:r,types:s})}function vd({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Ed(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new wd({type:e})}function Pd(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:vd({domain:t}),...e.types};xd({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Ad({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Vi({data:n,primaryType:r,types:s})),q(ue(o))}function Ad({domain:e,types:t}){return Vi({data:e,primaryType:"EIP712Domain",types:t})}function Vi({data:e,primaryType:t,types:n}){const r=qi({data:e,primaryType:t,types:n});return q(r)}function qi({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Bd({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Wi({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Me(r,s)}function Bd({primaryType:e,types:t}){const n=ze($d({primaryType:e,types:t}));return q(n)}function $d({primaryType:e,types:t}){let n="";const r=Zi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Zi({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Zi({primaryType:o.type,types:t},n);return n}function Wi({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},q(qi({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},q(r)];if(n==="string")return[{type:"bytes32"},q(ze(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Wi({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},q(Me(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class Id extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Sd={checksum:new Id(8192)},Cn=Sd.checksum;function Yi(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=No(qu(e));return n==="Bytes"?r:de(r)}const Td=/^0x[a-fA-F0-9]{40}$/;function yn(e,t={}){const{strict:n=!0}=t;if(!Td.test(e))throw new Gs({address:e,cause:new kd});if(n){if(e.toLowerCase()===e)return;if(Ki(e)!==e)throw new Gs({address:e,cause:new Nd})}}function Ki(e){if(Cn.has(e))return Cn.get(e);yn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Yi(Wu(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Cn.set(e,s),s}function nr(e,t={}){const{strict:n=!0}=t??{};try{return yn(e,{strict:n}),!0}catch{return!1}}class Gs extends M{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class kd extends M{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Nd extends M{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Cd=/^(.*)\[([0-9]*)\]$/,Od=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Hs=2n**256n-1n;function ut(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Dr(t.type);if(o){const[i,a]=o;return Fd(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Md(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Rd(e,{checksum:r});if(t.type==="bool")return zd(e);if(t.type.startsWith("bytes"))return Ld(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return _d(e,t);if(t.type==="string")return Ud(e,{staticPosition:s});throw new Hr(t.type)}const Vs=32,rr=32;function Rd(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?Ki(o):o)(de(Ku(r,-20))),32]}function Fd(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ie(e.readBytes(rr)),u=o+c,f=u+Vs;e.setPosition(u);const d=Ie(e.readBytes(Vs)),l=Tt(t);let b=0;const p=[];for(let h=0;h<d;++h){e.setPosition(f+(l?h*32:b));const[w,m]=ut(e,t,{checksumAddress:r,staticPosition:f});b+=m,p.push(w)}return e.setPosition(o+32),[p,32]}if(Tt(t)){const c=Ie(e.readBytes(rr)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=ut(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=ut(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function zd(e){return[Ju(e.readBytes(32),{size:32}),32]}function Ld(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ie(e.readBytes(32));e.setPosition(n+i);const a=Ie(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[de(c),32]}return[de(e.readBytes(Number.parseInt(s,10),32)),32]}function _d(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Xu(s,{signed:n}):Ie(s,{signed:n}),32]}function Md(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(Tt(t)){const c=Ie(e.readBytes(rr)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,b]=ut(e,d,{checksumAddress:r,staticPosition:u});a+=b,i[o?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=ut(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u==null?void 0:u.name]=f,a+=d}return[i,a]}function Ud(e,{staticPosition:t}){const n=Ie(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ie(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Qu(Ei(o));return e.setPosition(t+32),[i,32]}function jd({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ur({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ur({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Dr(r.type);if(s){const[o,i]=s;return Gd(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Wd(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Dd(n,{checksum:e});if(r.type==="bool")return Vd(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Xi.exec(r.type)??[];return qd(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Hd(n,{type:r.type});if(r.type==="string")return Zd(n);throw new Hr(r.type)}function jr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=re(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(X(t+s,{size:32})),r.push(a),s+=re(a)):n.push(a)}return fe(...n,...r)}function Dd(e,t){const{checksum:n=!1}=t;return yn(e,{strict:n}),{dynamic:!1,encoded:We(e.toLowerCase())}}function Gd(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new rl(e);if(!o&&e.length!==r)throw new nl({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=Ur({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=jr(a);if(o){const u=X(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?fe(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:fe(...a.map(({encoded:c})=>c))}}function Hd(e,{type:t}){const[,n]=t.split("bytes"),r=re(e);if(!n){let s=e;return r%32!==0&&(s=Ye(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:fe(We(X(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Qi({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ye(e)}}function Vd(e){if(typeof e!="boolean")throw new M(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:We(Pi(e))}}function qd(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new $i({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:X(e,{size:32,signed:t})}}function Zd(e){const t=Or(e),n=Math.ceil(re(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ye(ge(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:fe(Ye(X(re(t),{size:32})),...r)}}function Wd(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=Ur({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?jr(o):fe(...o.map(({encoded:i})=>i))}}function Dr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Tt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Tt);const n=Dr(e.type);return!!(n&&Tt({...e,type:n[1]}))}const Yd={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Jd({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Xd({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new qs({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new qs({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Kd(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Yd);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class qs extends M{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Xd extends M{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Jd extends M{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Qd(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?vi(t):t,i=Kd(o);if(ot(o)===0&&e.length>0)throw new tl;if(ot(o)&&ot(o)<32)throw new el({data:typeof t=="string"?t:de(t),parameters:e,size:ot(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=ut(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Gr(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new ea({expectedLength:e.length,givenLength:t.length});const s=jd({checksumAddress:r,parameters:e,values:t}),o=jr(s);return o.length===0?"0x":o}function sr(e,t){if(e.length!==t.length)throw new ea({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(sr.encode(s,o))}return fe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return yn(c),We(c.toLowerCase(),s?32:0)}if(n==="string")return Or(r);if(n==="bytes")return r;if(n==="bool")return We(Pi(r),s?32:1);const o=n.match(Xi);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return X(r,{size:s?32:d,signed:u==="int"})}const i=n.match(Od);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Qi({expectedSize:Number.parseInt(u,10),value:r});return Ye(r,s?32:0)}const a=n.match(Cd);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":fe(...f)}throw new Hr(n)}e.encode=t})(sr||(sr={}));function Ji(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?bs(e):e}class el extends M{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${st(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class tl extends M{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class nl extends M{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Qi extends M{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${re(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class ea extends M{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class rl extends M{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Hr extends M{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class ta extends hr{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Wc(t);const r=rn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),lt(o)}update(t){return dt(this),this.iHash.update(t),this}digestInto(t){dt(this),Ze(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const na=(e,t,n)=>new ta(e,t).update(n).digest();na.create=(e,t)=>new ta(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ee=BigInt(0),J=BigInt(1),De=BigInt(2),sl=BigInt(3),ra=BigInt(4),sa=BigInt(5),oa=BigInt(8);function Q(e,t){const n=e%t;return n>=ee?n:t+n}function se(e,t,n){let r=e;for(;t-- >ee;)r*=r,r%=n;return r}function or(e,t){if(e===ee)throw new Error("invert: expected non-zero number");if(t<=ee)throw new Error("invert: expected positive modulus, got "+t);let n=Q(e,t),r=t,s=ee,o=J;for(;n!==ee;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==J)throw new Error("invert: does not exist");return Q(s,t)}function ia(e,t){const n=(e.ORDER+J)/ra,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function ol(e,t){const n=(e.ORDER-sa)/oa,r=e.mul(t,De),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,De),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function il(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-J,n=0;for(;t%De===ee;)t/=De,n++;let r=De;const s=Vr(e);for(;Zs(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ia;let o=s.pow(r,t);const i=(t+J)/De;return function(c,u){if(c.is0(u))return u;if(Zs(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),b=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let p=1,h=c.sqr(l);for(;!c.eql(h,c.ONE);)if(p++,h=c.sqr(h),p===f)throw new Error("Cannot find square root");const w=J<<BigInt(f-p-1),m=c.pow(d,w);f=p,d=c.sqr(m),l=c.mul(l,d),b=c.mul(b,m)}return b}}function al(e){return e%ra===sl?ia:e%oa===sa?ol:il(e)}const cl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ul(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cl.reduce((r,s)=>(r[s]="function",r),t);return ln(e,n)}function fl(e,t,n){if(n<ee)throw new Error("invalid exponent, negatives unsupported");if(n===ee)return e.ONE;if(n===J)return t;let r=e.ONE,s=t;for(;n>ee;)n&J&&(r=e.mul(r,s)),s=e.sqr(s),n>>=J;return r}function aa(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Zs(e,t){const n=(e.ORDER-J)/De,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function ca(e,t){t!==void 0&&Bt(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Vr(e,t,n=!1,r={}){if(e<=ee)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=ca(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:dn(s),ZERO:ee,ONE:J,create:c=>Q(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ee<=c&&c<e},is0:c=>c===ee,isOdd:c=>(c&J)===J,neg:c=>Q(-c,e),eql:(c,u)=>c===u,sqr:c=>Q(c*c,e),add:(c,u)=>Q(c+u,e),sub:(c,u)=>Q(c-u,e),mul:(c,u)=>Q(c*u,e),pow:(c,u)=>fl(a,c,u),div:(c,u)=>Q(c*or(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>or(c,e),sqrt:r.sqrt||(c=>(i||(i=al(e)),i(a,c))),toBytes:c=>n?yi(c,o):Lt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?pi(c):qe(c)},invertBatch:c=>aa(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function ua(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function fa(e){const t=ua(e);return t+Math.ceil(t/2)}function dl(e,t,n=!1){const r=e.length,s=ua(t),o=fa(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?pi(e):qe(e),a=Q(i,t-J)+J;return n?yi(a,s):Lt(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ws=BigInt(0),ir=BigInt(1);function On(e,t){const n=t.negate();return e?n:t}function da(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Rn(e,t){da(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=dn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Ys(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=ir);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,b=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:u}}function ll(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function bl(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Fn=new WeakMap,la=new WeakMap;function zn(e){return la.get(e)||1}function hl(e,t){return{constTimeNegate:On,hasPrecomputes(n){return zn(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Ws;)r&ir&&(s=s.add(o)),o=o.double(),r>>=ir;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Rn(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=Rn(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:p}=Ys(s,c,a);s=u,d?i=i.add(On(b,r[p])):o=o.add(On(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Rn(n,t);for(let a=0;a<i.windows&&s!==Ws;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=Ys(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Fn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Fn.set(r,s(o))),o},wNAFCached(n,r,s){const o=zn(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=zn(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){da(r,t),la.set(n,r),Fn.delete(n)}}}function pl(e,t,n,r){ll(n,e),bl(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Fu(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=dn(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let b=d;b>=0;b-=c){f.fill(i);for(let h=0;h<o;h++){const w=r[h],m=Number(w>>BigInt(b)&u);f[m]=f[m].add(n[h])}let p=i;for(let h=f.length-1,w=i;h>0;h--)w=w.add(f[h]),p=p.add(w);if(l=l.add(p),b!==0)for(let h=0;h<c;h++)l=l.double()}return l}function ba(e){return ul(e.Fp),ln(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ca(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ks(e){e.lowS!==void 0&&It("lowS",e.lowS),e.prehash!==void 0&&It("prehash",e.prehash)}function yl(e){const t=ba(e);ln(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class ml extends Error{constructor(t=""){super(t)}}const Ae={Err:ml,_tlv:{encode:(e,t)=>{const{Err:n}=Ae;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Vt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Vt(s.length/2|128):"";return Vt(e)+o+s+t},decode(e,t){const{Err:n}=Ae;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ae;if(e<Be)throw new t("integer: negative integers are not allowed");let n=Vt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ae;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return qe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ae,s=oe("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ae,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function Ln(e,t){return St(Lt(e,t))}const Be=BigInt(0),V=BigInt(1);BigInt(2);const _n=BigInt(3),gl=BigInt(4);function wl(e){const t=yl(e),{Fp:n}=t,r=Vr(t.n,t.nBitLength),s=t.toBytes||((g,y,x)=>{const B=y.toAffine();return Kt(Uint8Array.from([4]),n.toBytes(B.x),n.toBytes(B.y))}),o=t.fromBytes||(g=>{const y=g.subarray(1),x=n.fromBytes(y.subarray(0,n.BYTES)),B=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x,y:B}});function i(g){const{a:y,b:x}=t,B=n.sqr(g),E=n.mul(B,g);return n.add(n.add(E,n.mul(g,y)),x)}function a(g,y){const x=n.sqr(y),B=i(g);return n.eql(x,B)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,_n),gl),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(g){return Cr(g,V,t.n)}function d(g){const{allowedPrivateKeyLengths:y,nByteLength:x,wrapPrivateKey:B,n:E}=t;if(y&&typeof g!="bigint"){if(zt(g)&&(g=St(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(x*2,"0")}let $;try{$=typeof g=="bigint"?g:qe(oe("private key",g,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof g)}return B&&($=Q($,E)),ct("private key",$,V,E),$}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const b=zs((g,y)=>{const{px:x,py:B,pz:E}=g;if(n.eql(E,n.ONE))return{x,y:B};const $=g.is0();y==null&&(y=$?n.ONE:n.inv(E));const N=n.mul(x,y),F=n.mul(B,y),S=n.mul(E,y);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:N,y:F}}),p=zs(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:x}=g.toAffine();if(!n.isValid(y)||!n.isValid(x))throw new Error("bad point: x or y not FE");if(!a(y,x))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,x,B){if(y==null||!n.isValid(y))throw new Error("x required");if(x==null||!n.isValid(x)||n.is0(x))throw new Error("y required");if(B==null||!n.isValid(B))throw new Error("z required");this.px=y,this.py=x,this.pz=B,Object.freeze(this)}static fromAffine(y){const{x,y:B}=y||{};if(!y||!n.isValid(x)||!n.isValid(B))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const E=$=>n.eql($,n.ZERO);return E(x)&&E(B)?h.ZERO:new h(x,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const x=aa(n,y.map(B=>B.pz));return y.map((B,E)=>B.toAffine(x[E])).map(h.fromAffine)}static fromHex(y){const x=h.fromAffine(o(oe("pointHex",y)));return x.assertValidity(),x}static fromPrivateKey(y){return h.BASE.multiply(d(y))}static msm(y,x){return pl(h,r,y,x)}_setWindowSize(y){v.setWindowSize(this,y)}assertValidity(){p(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:x,py:B,pz:E}=this,{px:$,py:N,pz:F}=y,S=n.eql(n.mul(x,F),n.mul($,E)),O=n.eql(n.mul(B,F),n.mul(N,E));return S&&O}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:x}=t,B=n.mul(x,_n),{px:E,py:$,pz:N}=this;let F=n.ZERO,S=n.ZERO,O=n.ZERO,k=n.mul(E,E),j=n.mul($,$),A=n.mul(N,N),I=n.mul(E,$);return I=n.add(I,I),O=n.mul(E,N),O=n.add(O,O),F=n.mul(y,O),S=n.mul(B,A),S=n.add(F,S),F=n.sub(j,S),S=n.add(j,S),S=n.mul(F,S),F=n.mul(I,F),O=n.mul(B,O),A=n.mul(y,A),I=n.sub(k,A),I=n.mul(y,I),I=n.add(I,O),O=n.add(k,k),k=n.add(O,k),k=n.add(k,A),k=n.mul(k,I),S=n.add(S,k),A=n.mul($,N),A=n.add(A,A),k=n.mul(A,I),F=n.sub(F,k),O=n.mul(A,j),O=n.add(O,O),O=n.add(O,O),new h(F,S,O)}add(y){l(y);const{px:x,py:B,pz:E}=this,{px:$,py:N,pz:F}=y;let S=n.ZERO,O=n.ZERO,k=n.ZERO;const j=t.a,A=n.mul(t.b,_n);let I=n.mul(x,$),R=n.mul(B,N),P=n.mul(E,F),C=n.add(x,B),z=n.add($,N);C=n.mul(C,z),z=n.add(I,R),C=n.sub(C,z),z=n.add(x,E);let U=n.add($,F);return z=n.mul(z,U),U=n.add(I,P),z=n.sub(z,U),U=n.add(B,E),S=n.add(N,F),U=n.mul(U,S),S=n.add(R,P),U=n.sub(U,S),k=n.mul(j,z),S=n.mul(A,P),k=n.add(S,k),S=n.sub(R,k),k=n.add(R,k),O=n.mul(S,k),R=n.add(I,I),R=n.add(R,I),P=n.mul(j,P),z=n.mul(A,z),R=n.add(R,P),P=n.sub(I,P),P=n.mul(j,P),z=n.add(z,P),I=n.mul(R,z),O=n.add(O,I),I=n.mul(U,z),S=n.mul(C,S),S=n.sub(S,I),I=n.mul(C,R),k=n.mul(U,k),k=n.add(k,I),new h(S,O,k)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return v.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){const{endo:x,n:B}=t;ct("scalar",y,Be,B);const E=h.ZERO;if(y===Be)return E;if(this.is0()||y===V)return this;if(!x||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,y,h.normalizeZ);let{k1neg:$,k1:N,k2neg:F,k2:S}=x.splitScalar(y),O=E,k=E,j=this;for(;N>Be||S>Be;)N&V&&(O=O.add(j)),S&V&&(k=k.add(j)),j=j.double(),N>>=V,S>>=V;return $&&(O=O.negate()),F&&(k=k.negate()),k=new h(n.mul(k.px,x.beta),k.py,k.pz),O.add(k)}multiply(y){const{endo:x,n:B}=t;ct("scalar",y,V,B);let E,$;if(x){const{k1neg:N,k1:F,k2neg:S,k2:O}=x.splitScalar(y);let{p:k,f:j}=this.wNAF(F),{p:A,f:I}=this.wNAF(O);k=v.constTimeNegate(N,k),A=v.constTimeNegate(S,A),A=new h(n.mul(A.px,x.beta),A.py,A.pz),E=k.add(A),$=j.add(I)}else{const{p:N,f:F}=this.wNAF(y);E=N,$=F}return h.normalizeZ([E,$])[0]}multiplyAndAddUnsafe(y,x,B){const E=h.BASE,$=(F,S)=>S===Be||S===V||!F.equals(E)?F.multiplyUnsafe(S):F.multiply(S),N=$(this,x).add($(y,B));return N.is0()?void 0:N}toAffine(y){return b(this,y)}isTorsionFree(){const{h:y,isTorsionFree:x}=t;if(y===V)return!0;if(x)return x(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:x}=t;return y===V?this:x?x(h,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return It("isCompressed",y),this.assertValidity(),s(h,this,y)}toHex(y=!0){return It("isCompressed",y),St(this.toRawBytes(y))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:m}=t,v=hl(h,w?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function xl(e){const t=ba(e);return ln(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function vl(e){const t=xl(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(A){return Q(A,r)}function u(A){return or(A,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:b}=wl({...t,toBytes(A,I,R){const P=I.toAffine(),C=n.toBytes(P.x),z=Kt;return It("isCompressed",R),R?z(Uint8Array.from([I.hasEvenY()?2:3]),C):z(Uint8Array.from([4]),C,n.toBytes(P.y))},fromBytes(A){const I=A.length,R=A[0],P=A.subarray(1);if(I===i&&(R===2||R===3)){const C=qe(P);if(!Cr(C,V,n.ORDER))throw new Error("Point is not on curve");const z=l(C);let U;try{U=n.sqrt(z)}catch(W){const H=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+H)}const D=(U&V)===V;return(R&1)===1!==D&&(U=n.neg(U)),{x:C,y:U}}else if(I===a&&R===4){const C=n.fromBytes(P.subarray(0,n.BYTES)),z=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:C,y:z}}else{const C=i,z=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+z+", got "+I)}}});function p(A){const I=r>>V;return A>I}function h(A){return p(A)?c(-A):A}const w=(A,I,R)=>qe(A.slice(I,R));class m{constructor(I,R,P){ct("r",I,V,r),ct("s",R,V,r),this.r=I,this.s=R,P!=null&&(this.recovery=P),Object.freeze(this)}static fromCompact(I){const R=s;return I=oe("compactSignature",I,R*2),new m(w(I,0,R),w(I,R,2*R))}static fromDER(I){const{r:R,s:P}=Ae.toSig(oe("DER",I));return new m(R,P)}assertValidity(){}addRecoveryBit(I){return new m(this.r,this.s,I)}recoverPublicKey(I){const{r:R,s:P,recovery:C}=this,z=E(oe("msgHash",I));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const U=C===2||C===3?R+t.n:R;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=C&1?"03":"02",Y=f.fromHex(D+Ln(U,n.BYTES)),W=u(U),H=c(-z*W),K=c(P*W),Oe=f.BASE.multiplyAndAddUnsafe(Y,H,K);if(!Oe)throw new Error("point at infinify");return Oe.assertValidity(),Oe}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Yt(this.toDERHex())}toDERHex(){return Ae.hexFromSig(this)}toCompactRawBytes(){return Yt(this.toCompactHex())}toCompactHex(){const I=s;return Ln(this.r,I)+Ln(this.s,I)}}const v={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=fa(t.n);return dl(t.randomBytes(A),t.n)},precompute(A=8,I=f.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}};function g(A,I=!0){return f.fromPrivateKey(A).toRawBytes(I)}function y(A){if(typeof A=="bigint")return!1;if(A instanceof f)return!0;const R=oe("key",A).length,P=n.BYTES,C=P+1,z=2*P+1;if(!(t.allowedPrivateKeyLengths||s===C))return R===C||R===z}function x(A,I,R=!0){if(y(A)===!0)throw new Error("first arg must be private key");if(y(I)===!1)throw new Error("second arg must be public key");return f.fromHex(I).multiply(d(A)).toRawBytes(R)}const B=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const I=qe(A),R=A.length*8-o;return R>0?I>>BigInt(R):I},E=t.bits2int_modN||function(A){return c(B(A))},$=dn(o);function N(A){return ct("num < 2^"+o,A,Be,$),Lt(A,s)}function F(A,I,R=S){if(["recovered","canonical"].some(Ue=>Ue in R))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:C}=t;let{lowS:z,prehash:U,extraEntropy:D}=R;z==null&&(z=!0),A=oe("msgHash",A),Ks(R),U&&(A=oe("prehashed msgHash",P(A)));const Y=E(A),W=d(I),H=[N(W),N(Y)];if(D!=null&&D!==!1){const Ue=D===!0?C(n.BYTES):D;H.push(oe("extraEntropy",Ue))}const K=Kt(...H),Oe=Y;function wn(Ue){const et=B(Ue);if(!b(et))return;const xn=u(et),wt=f.BASE.multiply(et).toAffine(),je=c(wt.x);if(je===Be)return;const xt=c(xn*c(Oe+je*W));if(xt===Be)return;let vt=(wt.x===je?0:2)|Number(wt.y&V),tt=xt;return z&&p(xt)&&(tt=h(xt),vt^=1),new m(je,tt,vt)}return{seed:K,k2sig:wn}}const S={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function k(A,I,R=S){const{seed:P,k2sig:C}=F(A,I,R),z=t;return zu(z.hash.outputLen,z.nByteLength,z.hmac)(P,C)}f.BASE._setWindowSize(8);function j(A,I,R,P=O){var vt;const C=A;I=oe("msgHash",I),R=oe("publicKey",R);const{lowS:z,prehash:U,format:D}=P;if(Ks(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const Y=typeof C=="string"||zt(C),W=!Y&&!D&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!Y&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let H,K;try{if(W&&(H=new m(C.r,C.s)),Y){try{D!=="compact"&&(H=m.fromDER(C))}catch(tt){if(!(tt instanceof Ae.Err))throw tt}!H&&D!=="der"&&(H=m.fromCompact(C))}K=f.fromHex(R)}catch{return!1}if(!H||z&&H.hasHighS())return!1;U&&(I=t.hash(I));const{r:Oe,s:wn}=H,Ue=E(I),et=u(wn),xn=c(Ue*et),wt=c(Oe*et),je=(vt=f.BASE.multiplyAndAddUnsafe(K,xn,wt))==null?void 0:vt.toAffine();return je?c(je.x)===Oe:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:x,sign:k,verify:j,ProjectivePoint:f,Signature:m,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function El(e){return{hash:e,hmac:(t,...n)=>na(e,t,e0(...n)),randomBytes:t0}}function Pl(e,t){const n=r=>vl({...e,...El(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ha=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xs=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Al=BigInt(0),Bl=BigInt(1),ar=BigInt(2),Js=(e,t)=>(e+t/ar)/t;function $l(e){const t=ha,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=se(f,n,t)*f%t,l=se(d,n,t)*f%t,b=se(l,ar,t)*u%t,p=se(b,s,t)*b%t,h=se(p,o,t)*p%t,w=se(h,a,t)*h%t,m=se(w,c,t)*w%t,v=se(m,a,t)*h%t,g=se(v,n,t)*f%t,y=se(g,i,t)*p%t,x=se(y,r,t)*u%t,B=se(x,ar,t);if(!cr.eql(cr.sqr(B),e))throw new Error("Cannot find square root");return B}const cr=Vr(ha,void 0,void 0,{sqrt:$l}),pa=Pl({a:Al,b:BigInt(7),Fp:cr,n:Xs,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Xs,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Bl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Js(o*e,t),c=Js(-r*e,t);let u=Q(e-a*n-c*s,t),f=Q(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},ai),Il=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:pa},Symbol.toStringTag,{value:"Module"}));function ya(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Mn({signature:e});if(typeof e.s>"u")throw new Mn({signature:e});if(n&&typeof e.yParity>"u")throw new Mn({signature:e});if(e.r<0n||e.r>Hs)throw new Rl({value:e.r});if(e.s<0n||e.s>Hs)throw new Fl({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Zr({value:e.yParity})}function Sl(e){return ma(de(e))}function ma(e){if(e.length!==130&&e.length!==132)throw new Ol({signature:e});const t=BigInt(ge(e,0,32)),n=BigInt(ge(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return qr(s)}catch{throw new Zr({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Tl(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return kl(e)}function kl(e){const t=typeof e=="string"?ma(e):e instanceof Uint8Array?Sl(e):typeof e.r=="string"?Cl(e):e.v?Nl(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return ya(t),t}function Nl(e){return{r:e.r,s:e.s,yParity:qr(e.v)}}function Cl(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=qr(n)),typeof r!="number")throw new Zr({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function qr(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new zl({value:e})}class Ol extends M{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${re(cf(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Mn extends M{constructor({signature:t}){super(`Signature \`${xi(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Rl extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Fl extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Zr extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class zl extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Ll(e,t={}){return typeof e.chainId=="string"?_l(e):{...e,...t.signature}}function _l(e){const{address:t,chainId:n,nonce:r}=e,s=Tl(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Ml="0x8010801080108010801080108010801080108010801080108010801080108010",Ul=Ji("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function ga(e){if(typeof e=="string"){if(ge(e,-32)!==Ml)throw new Gl(e)}else ya(e.authorization)}function jl(e){ga(e);const t=Bi(ge(e,-64,-32)),n=ge(e,-t-64,-64),r=ge(e,0,-t-64),[s,o,i]=Qd(Ul,n);return{authorization:Ll({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function Dl(e){try{return ga(e),!0}catch{return!1}}let Gl=class extends M{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Hl(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Vl(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Se(e.nonce):void 0,storageProof:e.storageProof?Hl(e.storageProof):void 0}}async function ql(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?L(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Vl(a)}async function Zl(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?L(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Wr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){var l,b,p;const c=r||"latest",u=n!==void 0?L(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,L(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,L(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,L(a)]},{dedupe:!0})),!f)throw new Vo({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(((p=(b=(l=e.chain)==null?void 0:l.formatters)==null?void 0:b.transaction)==null?void 0:p.format)||ti)(f,"getTransaction")}async function Wl(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([_(e,jt,"getBlockNumber")({}),t?_(e,Wr,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function qt(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new qo({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Oi)(n,"getTransactionReceipt")}async function Yl(e,t){var v;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((v=e.batch)==null?void 0:v.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return gt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let p=0,h=0;for(let g=0;g<u.length;g++){const{abi:y,address:x,args:B,functionName:E}=u[g];try{const $=he({abi:y,args:B,functionName:E});h+=($.length-2)/2,f>0&&h>f&&b[p].length>0&&(p++,h=($.length-2)/2,b[p]=[]),b[p]=[...b[p],{allowFailure:!0,callData:$,target:x}]}catch($){const N=ht($,{abi:y,address:x,args:B,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!s)throw N;b[p]=[...b[p],{allowFailure:!0,callData:"0x",target:x}]}}const w=await Promise.allSettled(b.map(g=>_(e,le,"readContract")({...l===null?{code:Rr}:{address:l},abi:Zt,account:n,args:[g],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),m=[];for(let g=0;g<w.length;g++){const y=w[g];if(y.status==="rejected"){if(!s)throw y.reason;for(let B=0;B<b[g].length;B++)m.push({status:"failure",error:y.reason,result:void 0});continue}const x=y.value;for(let B=0;B<x.length;B++){const{returnData:E,success:$}=x[B],{callData:N}=b[g][B],{abi:F,address:S,functionName:O,args:k}=u[m.length];try{if(N==="0x")throw new kt;if(!$)throw new un({data:E});const j=Qe({abi:F,args:k,data:E,functionName:O});m.push(s?{result:j,status:"success"}:j)}catch(j){const A=ht(j,{abi:F,address:S,args:k,docsPath:"/docs/contract/multicall",functionName:O});if(!s)throw A;m.push({error:A,result:void 0,status:"failure"})}}}if(m.length!==u.length)throw new T("multicall results mismatch");return m}async function ur(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const b=l.blockOverrides?Si(l.blockOverrides):void 0,p=l.calls.map(w=>{const m=w,v=m.account?be(m.account):void 0,g=m.abi?he(m):m.data,y={...m,account:v,data:m.dataSuffix?ue([g||"0x",m.dataSuffix]):g,from:m.from??(v==null?void 0:v.address)};return Rt(y),fn(y)}),h=l.stateOverrides?Er(l.stateOverrides):void 0;c.push({blockOverrides:b,calls:p,stateOverrides:h})}const f=(typeof n=="bigint"?L(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,b)=>({...ni(l),calls:l.calls.map((p,h)=>{var F,S;const{abi:w,args:m,functionName:v,to:g}=s[b].calls[h],y=((F=p.error)==null?void 0:F.data)??p.returnData,x=BigInt(p.gasUsed),B=(S=p.logs)==null?void 0:S.map(O=>Ne(O)),E=p.status==="0x1"?"success":"failure",$=w&&E==="success"&&y!=="0x"?Qe({abi:w,data:y,functionName:v}):null,N=(()=>{var k;if(E==="success")return;let O;if(((k=p.error)==null?void 0:k.data)==="0x"?O=new kt:p.error&&(O=new un(p.error)),!!O)return ht(O,{abi:w??[],address:g??"0x",args:m,functionName:v??"<unknown>"})})();return{data:y,gasUsed:x,logs:B,status:E,...E==="success"?{result:$}:{error:N}}})}))}catch(c){const u=c,f=xr(u,{});throw f instanceof Qt?u:f}}function fr(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new M("Unable to normalize signature.");return s}function dr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return nr(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>dr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>dr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function wa(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return wa(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?nr(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?nr(n[r],{strict:!1}):!1)return i}}function xa(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?ls(e):e;return{...r,...n?{hash:it(r)}:{}}}function mn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=uf(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?va(u)===ge(t,0,4):u.type==="event"?it(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Xt({name:t});if(i.length===1)return{...i[0],...s?{hash:it(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:it(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?dr(d,b):!1})){if(a&&"inputs"in a&&a.inputs){const d=wa(u.inputs,a.inputs,r);if(d)throw new Xl({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new Xt({name:t});return{...c,...s?{hash:it(c)}:{}}}function va(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return mn(n,r)}return e[0]})();return ge(it(t),0,4)}function Kl(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return mn(r,s)}return e[0]})(),n=typeof t=="string"?t:Wt(t);return fr(n)}function it(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return mn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Yi(Or(Kl(t)))}class Xl extends M{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${fr(Wt(t.abiItem))}\`, and`,`\`${n.type}\` in \`${fr(Wt(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Xt extends M{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Jl(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,a]=e;return[e1(i),a]}return e})(),{bytecode:r,args:s}=n;return fe(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?Gr(t.inputs,s):"0x")}function Ql(e){return xa(e)}function e1(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Xt({name:"constructor"});return t}function t1(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Qs(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Qs([t,...r],t.name,{args:n}):t,o=n1(s),i=n.length>0?Gr(s.inputs,n):void 0;return i?fe(o,i):o}function rt(e,t={}){return xa(e,t)}function Qs(e,t,n){const r=mn(e,t,n);if(r.type!=="function")throw new Xt({name:t,type:"function"});return r}function n1(e){return va(e)}const r1="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ye="0x0000000000000000000000000000000000000000",s1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function o1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?be(t.account):void 0;if(i&&!u)throw new T("`account` is required when `traceAssetChanges` is true");const f=u?Jl(Ql("constructor(bytes, bytes)"),{bytecode:Ti,args:[s1,t1(rt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async P=>{if(!P.data&&!P.abi)return;const{accessList:C}=await Mi(e,{account:u.address,...P,data:P.abi?he(P):P.data});return C.map(({address:z,storageKeys:U})=>U.length>0?z:null)})).then(P=>P.flat().filter(Boolean)):[],l=await ur(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((P,C)=>({abi:[rt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]}]:[],{calls:[...s,{}].map(P=>({...P,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((P,C)=>({abi:[rt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]},{calls:d.map((P,C)=>({to:P,abi:[rt("function decimals() returns (uint256)")],functionName:"decimals",from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]},{calls:d.map((P,C)=>({to:P,abi:[rt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]},{calls:d.map((P,C)=>({to:P,abi:[rt("function symbol() returns (string)")],functionName:"symbol",from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]}]:[]],traceTransfers:a,validation:c}),b=i?l[2]:l[0],[p,h,,w,m,v,g,y]=i?l:[],{calls:x,...B}=b,E=x.slice(0,-1)??[],$=(p==null?void 0:p.calls)??[],N=(h==null?void 0:h.calls)??[],F=[...$,...N].map(P=>P.status==="success"?Te(P.data):null),S=(w==null?void 0:w.calls)??[],O=(m==null?void 0:m.calls)??[],k=[...S,...O].map(P=>P.status==="success"?Te(P.data):null),j=((v==null?void 0:v.calls)??[]).map(P=>P.status==="success"?P.result:null),A=((y==null?void 0:y.calls)??[]).map(P=>P.status==="success"?P.result:null),I=((g==null?void 0:g.calls)??[]).map(P=>P.status==="success"?P.result:null),R=[];for(const[P,C]of k.entries()){const z=F[P];if(typeof C!="bigint"||typeof z!="bigint")continue;const U=j[P-1],D=A[P-1],Y=I[P-1],W=P===0?{address:r1,decimals:18,symbol:"ETH"}:{address:d[P-1],decimals:Y||U?Number(U??1):void 0,symbol:D??void 0};R.some(H=>H.token.address===W.address)||R.push({token:W,value:{pre:z,post:C,diff:C-z}})}return{assetChanges:R,block:B,results:E}}const Ea="0x6492649264926492649264926492649264926492649264926492649264926492";function i1(e){if(ge(e,-32)!==Ea)throw new u1(e)}function a1(e){const{data:t,signature:n,to:r}=e;return fe(Gr(Ji("address, bytes, bytes"),[r,t,n]),Ea)}function c1(e){try{return i1(e),!0}catch{return!1}}class u1 extends M{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function f1({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new pa.Signature(Te(e),Te(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:xe(i)}async function gn(e,t){var a,c,u,f,d,l;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=t.multicallAddress??((l=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t,i=(()=>{const b=t.signature;return we(b)?b:typeof b=="object"&&"r"in b&&"s"in b?f1(b):Z(b)})();try{return Dl(i)?await d1(e,{...t,multicallAddress:o,signature:i}):await l1(e,{...t,verifierAddress:s,signature:i})}catch(b){try{if(Ft(Oo(n),await Yo({hash:r,signature:i})))return!0}catch{}if(b instanceof Ke)return!1;throw b}}async function d1(e,t){var w;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=jl(t.signature);if(await tr(e,{address:n,blockNumber:r,blockTag:s})===mt(["0xef0100",a.address]))return await b1(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:L(a.r,{size:32}),s:L(a.s,{size:32}),yParity:a.yParity};if(!await cd({address:n,authorization:l}))throw new Ke;const p=await _(e,le,"readContract")({...i?{address:i}:{code:Rr},authorizationList:[l],abi:Zt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:he({abi:oo,functionName:"isValidSignature",args:[o,u]})}]]}),h=(w=p[p.length-1])==null?void 0:w.returnData;if(h!=null&&h.startsWith("0x1626ba7e"))return!0;throw new Ke}async function l1(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||c1(i)?i:a1({data:s,signature:i,to:r}))(),f=a?{to:a,data:he({abi:cs,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Fr({abi:cs,args:[n,o,u],bytecode:pf}),...c},{data:d}=await _(e,Mt,"call")(f).catch(l=>{throw l instanceof Zo?new Ke:l});if(Fa(d??"0x0"))return!0;throw new Ke}async function b1(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await _(e,le,"readContract")({address:n,abi:oo,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Wo?new Ke:c})).startsWith("0x1626ba7e"))return!0;throw new Ke}class Ke extends Error{}async function h1(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Hi(n);return gn(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function p1(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Pd({message:i,primaryType:a,types:c,domain:u});return gn(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Pa(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=ie(["watchBlockNumber",e.uid,t,n,i]);return _e(d,{onBlockNumber:r,onError:s},l=>Ut(async()=>{var b;try{const p=await _(e,jt,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let h=c+1n;h<p;h++)l.onBlockNumber(h,c),c=h}(c===void 0||p>c)&&(l.onBlockNumber(p,c),c=p)}catch(p){(b=l.onError)==null||b.call(l,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=ie(["watchBlockNumber",e.uid,t,n]);return _e(d,{onBlockNumber:r,onError:s},l=>{let b=!0,p=()=>b=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return m?m.value:e.transport}return e.transport})(),{unsubscribe:w}=await h.subscribe({params:["newHeads"],onData(m){var g;if(!b)return;const v=Te((g=m.result)==null?void 0:g.number);l.onBlockNumber(v,c),c=v},onError(m){var v;(v=l.onError)==null||v.call(l,m)}});p=w,b||p()}catch(h){s==null||s(h)}})(),()=>p()})})()}async function y1(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:x})=>~~(1<<x)*200,timeout:c=18e4}=t,u=ie(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var x;return t.pollingInterval?t.pollingInterval:(x=e.chain)!=null&&x.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,b,p=!1,h,w;const{promise:m,resolve:v,reject:g}=za(),y=c?setTimeout(()=>{w==null||w(),h==null||h(),g(new W0({hash:s}))},c):void 0;return h=_e(u,{onReplaced:o,resolve:v,reject:g},async x=>{if(b=await _(e,qt,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(y),x.resolve(b),h==null||h();return}w=_(e,Pa,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(B){const E=N=>{clearTimeout(y),w==null||w(),N(),h==null||h()};let $=B;if(!p)try{if(b){if(r>1&&(!b.blockNumber||$-b.blockNumber+1n<r))return;E(()=>x.resolve(b));return}if(n&&!d&&(p=!0,await us(async()=>{d=await _(e,Wr,"getTransaction")({hash:s}),d.blockNumber&&($=d.blockNumber)},{delay:a,retryCount:i}),p=!1),b=await _(e,qt,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||$-b.blockNumber+1n<r))return;E(()=>x.resolve(b))}catch(N){if(N instanceof Vo||N instanceof qo){if(!d){p=!1;return}try{l=d,p=!0;const F=await us(()=>_(e,me,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:k})=>k instanceof Qo});p=!1;const S=F.transactions.find(({from:k,nonce:j})=>k===l.from&&j===l.nonce);if(!S||(b=await _(e,qt,"getTransactionReceipt")({hash:S.hash}),r>1&&(!b.blockNumber||$-b.blockNumber+1n<r)))return;let O="replaced";S.to===l.to&&S.value===l.value&&S.input===l.input?O="repriced":S.from===S.to&&S.value===0n&&(O="cancelled"),E(()=>{var k;(k=x.onReplaced)==null||k.call(x,{reason:O,replacedTransaction:l,transaction:S,transactionReceipt:b}),x.resolve(b)})}catch(F){E(()=>x.reject(F))}}else E(()=>x.reject(N))}}})}),m}function m1(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=ie(["watchBlocks",e.uid,t,n,r,f,c]);return _e(p,{onBlock:s,onError:o},h=>Ut(async()=>{var w;try{const m=await _(e,me,"getBlock")({blockTag:t,includeTransactions:f});if(m.number!==null&&(d==null?void 0:d.number)!=null){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let v=(d==null?void 0:d.number)+1n;v<m.number;v++){const g=await _(e,me,"getBlock")({blockNumber:v,includeTransactions:f});h.onBlock(g,d),d=g}}((d==null?void 0:d.number)==null||t==="pending"&&(m==null?void 0:m.number)==null||m.number!==null&&m.number>d.number)&&(h.onBlock(m,d),d=m)}catch(m){(w=h.onError)==null||w.call(h,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,h=!0,w=()=>p=!1;return(async()=>{try{r&&_(e,me,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{p&&h&&(s(g,void 0),h=!1)}).catch(o);const m=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:v}=await m.subscribe({params:["newHeads"],async onData(g){var x;if(!p)return;const y=await _(e,me,"getBlock")({blockNumber:(x=g.result)==null?void 0:x.number,includeTransactions:f}).catch(()=>{});p&&(s(y,d),h=!1,d=y)},onError(g){o==null||o(g)}});w=v,p||w()}catch(m){o==null||o(m)}})(),()=>w()})()}function g1(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=d??!1;return l?(()=>{const w=ie(["watchEvent",t,n,r,e.uid,s,f,i]);return _e(w,{onLogs:c,onError:a},m=>{let v;i!==void 0&&(v=i-1n);let g,y=!1;const x=Ut(async()=>{var B;if(!y){try{g=await _(e,Ui,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}y=!0;return}try{let E;if(g)E=await _(e,hn,"getFilterChanges")({filter:g});else{const $=await _(e,jt,"getBlockNumber")({});v&&v!==$?E=await _(e,Tr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:v+1n,toBlock:$}):E=[],v=$}if(E.length===0)return;if(r)m.onLogs(E);else for(const $ of E)m.onLogs([$])}catch(E){g&&E instanceof no&&(y=!1),(B=m.onError)==null||B.call(m,E)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await _(e,pn,"uninstallFilter")({filter:g}),x()}})})():(()=>{let w=!0,m=()=>w=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),g=o??(s?[s]:void 0);let y=[];g&&(y=[g.flatMap(E=>Ct({abi:[E],eventName:E.name,args:n}))],s&&(y=y[0]));const{unsubscribe:x}=await v.subscribe({params:["logs",{address:t,topics:y}],onData(B){var $;if(!w)return;const E=B.result;try{const{eventName:N,args:F}=Ir({abi:g??[],data:E.data,topics:E.topics,strict:b}),S=Ne(E,{args:F,eventName:N});c([S])}catch(N){let F,S;if(N instanceof At||N instanceof nn){if(d)return;F=N.abiItem.name,S=($=N.abiItem.inputs)==null?void 0:$.some(k=>!("name"in k&&k.name))}const O=Ne(E,{args:S?[]:{},eventName:F});c([O])}},onError(B){a==null||a(B)}});m=x,w||m()}catch(v){a==null||a(v)}})(),()=>m()})()}function w1(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=ie(["watchPendingTransactions",e.uid,t,o]);return _e(u,{onTransactions:r,onError:n},f=>{let d;const l=Ut(async()=>{var b;try{if(!d)try{d=await _(e,ji,"createPendingTransactionFilter")({});return}catch(h){throw l(),h}const p=await _(e,hn,"getFilterChanges")({filter:d});if(p.length===0)return;if(t)f.onTransactions(p);else for(const h of p)f.onTransactions([h])}catch(p){(b=f.onError)==null||b.call(f,p)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await _(e,pn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function x1(e){var d,l,b;const{scheme:t,statement:n,...r}=((d=e.match(v1))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((l=e.match(E1))==null?void 0:l.groups)??{},f=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const v1=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,E1=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function P1(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ae(r.address,{strict:!1})||t&&!Ft(r.address,t))return!1}catch{return!1}return!0}async function A1(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=x1(s);if(!f.address||!P1({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=Hi(s);return gn(e,{address:f.address,hash:l,signature:a,...u})}async function B1(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,L(r)]:[t]},{retryCount:0}),i=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Oi)(s);if(i.status==="reverted"&&n)throw new Z0({receipt:i});return i}function $1(e){return{call:t=>Mt(e,t),createAccessList:t=>Mi(e,t),createBlockFilter:()=>Jf(e),createContractEventFilter:t=>Mo(e,t),createEventFilter:t=>Ui(e,t),createPendingTransactionFilter:()=>ji(e),estimateContractGas:t=>Nu(e,t),estimateGas:t=>$r(e,t),getBalance:t=>Qf(e,t),getBlobBaseFee:()=>ed(e),getBlock:t=>me(e,t),getBlockNumber:t=>jt(e,t),getBlockTransactionCount:t=>td(e,t),getBytecode:t=>tr(e,t),getChainId:()=>fi(e),getCode:t=>tr(e,t),getContractEvents:t=>li(e,t),getEip712Domain:t=>rd(e,t),getEnsAddress:t=>zf(e,t),getEnsAvatar:t=>Yf(e,t),getEnsName:t=>Kf(e,t),getEnsResolver:t=>Xf(e,t),getEnsText:t=>_i(e,t),getFeeHistory:t=>id(e,t),estimateFeesPerGas:t=>hu(e,t),getFilterChanges:t=>hn(e,t),getFilterLogs:t=>ad(e,t),getGasPrice:()=>Ar(e),getLogs:t=>Tr(e,t),getProof:t=>ql(e,t),estimateMaxPriorityFeePerGas:t=>bu(e,t),getStorageAt:t=>Zl(e,t),getTransaction:t=>Wr(e,t),getTransactionConfirmations:t=>Wl(e,t),getTransactionCount:t=>si(e,t),getTransactionReceipt:t=>qt(e,t),multicall:t=>Yl(e,t),prepareTransactionRequest:t=>di(e,t),readContract:t=>le(e,t),sendRawTransaction:t=>Sf(e,t),sendRawTransactionSync:t=>B1(e,t),simulate:t=>ur(e,t),simulateBlocks:t=>ur(e,t),simulateCalls:t=>o1(e,t),simulateContract:t=>xf(e,t),verifyHash:t=>gn(e,t),verifyMessage:t=>h1(e,t),verifySiweMessage:t=>A1(e,t),verifyTypedData:t=>p1(e,t),uninstallFilter:t=>pn(e,t),waitForTransactionReceipt:t=>y1(e,t),watchBlocks:t=>m1(e,t),watchBlockNumber:t=>Pa(e,t),watchContractEvent:t=>If(e,t),watchEvent:t=>g1(e,t),watchPendingTransactions:t=>w1(e,t)}}function M1(e){const{key:t="public",name:n="Public Client"}=e;return kf({...e,key:t,name:n,type:"publicClient"}).extend($1)}export{Bc as AbiConstructorNotFoundError,hs as AbiConstructorParamsNotFoundError,xo as AbiDecodingDataSizeTooSmallError,kt as AbiDecodingZeroDataError,$c as AbiEncodingArrayLengthMismatchError,Ic as AbiEncodingBytesSizeMismatchError,Sc as AbiEncodingLengthMismatchError,Tc as AbiErrorInputsNotFoundError,ps as AbiErrorNotFoundError,vo as AbiErrorSignatureNotFoundError,ys as AbiEventNotFoundError,kc as AbiEventSignatureEmptyTopicsError,Eo as AbiEventSignatureNotFoundError,ft as AbiFunctionNotFoundError,Po as AbiFunctionOutputsNotFoundError,Nc as AbiFunctionSignatureNotFoundError,D0 as AccountStateConflictError,D1 as AtomicReadyWalletRejectedUpgradeError,G1 as AtomicityNotSupportedError,T as BaseError,fu as BaseFeeScalarError,Qo as BlockNotFoundError,H1 as BundleTooLargeError,Oc as BytesSizeMismatchError,Zo as CallExecutionError,V1 as ChainDisconnectedError,Qn as ChainDoesNotSupportContract,uc as CircularReferenceError,ki as ClientChainNotConfiguredError,Wo as ContractFunctionExecutionError,Kn as ContractFunctionRevertedError,Y0 as ContractFunctionZeroDataError,K0 as CounterfactualDeploymentFailedError,At as DecodeLogDataMismatch,nn as DecodeLogTopicsMismatch,q1 as DuplicateIdError,Pr as Eip1559FeesNotSupportedError,Pt as EnsAvatarInvalidNftUriError,_f as EnsAvatarUnsupportedNamespaceError,_r as EnsAvatarUriResolutionError,su as EstimateGasExecutionError,Gt as ExecutionRevertedError,jn as FeeCapTooHighError,Yr as FeeCapTooLowError,V0 as FeeConflictError,Lc as FilterTypeNotSupportedError,as as HttpRequestError,Qr as InsufficientFundsError,Ba as IntegerOutOfRangeError,ka as InternalRpcError,es as IntrinsicGasTooHighError,ts as IntrinsicGasTooLowError,Fc as InvalidAbiDecodingTypeError,Rc as InvalidAbiEncodingTypeError,Ja as InvalidAbiItemError,tc as InvalidAbiParametersError,ic as InvalidAbiTypeParameterError,Le as InvalidAddressError,Ao as InvalidArrayError,$a as InvalidBytesBooleanError,zc as InvalidDefinitionTypeError,md as InvalidDomainError,oc as InvalidFunctionModifierError,Z1 as InvalidHexBooleanError,no as InvalidInputRpcError,sc as InvalidModifierError,nc as InvalidParameterError,W1 as InvalidParamsRpcError,fc as InvalidParenthesisError,gd as InvalidPrimaryTypeError,Y1 as InvalidRequestRpcError,q0 as InvalidSerializableTransactionError,pt as InvalidSignatureError,cc as InvalidStructSignatureError,wd as InvalidStructTypeError,K1 as JsonRpcVersionUnsupportedError,X1 as LimitExceededRpcError,du as MaxFeePerGasTooLowError,J1 as MethodNotFoundRpcError,Q1 as MethodNotSupportedRpcError,Jr as NonceMaxValueError,Kr as NonceTooHighError,Xr as NonceTooLowError,e6 as ParseRpcError,t6 as ProviderDisconnectedError,n6 as ProviderRpcError,un as RawContractError,r6 as ResourceNotFoundRpcError,s6 as ResourceUnavailableRpcError,o6 as RpcError,Na as RpcRequestError,i6 as SizeExceedsPaddingSizeError,a6 as SizeOverflowError,to as SliceOffsetOutOfBoundsError,rc as SolidityProtectedKeywordError,G0 as StateAssignmentConflictError,c6 as SwitchChainError,u6 as TimeoutError,Dn as TipAboveFeeCapError,Vo as TransactionNotFoundError,qo as TransactionReceiptNotFoundError,f6 as TransactionRejectedRpcError,ns as TransactionTypeNotSupportedError,d6 as UnauthorizedProviderError,l6 as UnknownBundleIdError,Qt as UnknownNodeError,b6 as UnknownRpcError,ac as UnknownSignatureError,Qa as UnknownTypeError,h6 as UnsupportedChainIdError,p6 as UnsupportedNonOptionalCapabilityError,y6 as UnsupportedProviderMethodError,m6 as UrlRequiredError,g6 as UserRejectedRequestError,W0 as WaitForTransactionReceiptTimeoutError,Rt as assertRequest,oi as blobsToCommitments,ii as blobsToProofs,Mc as boolToBytes,Aa as boolToHex,C0 as bytesToBigInt,O0 as bytesToBool,Z as bytesToHex,$e as bytesToNumber,R0 as bytesToString,Gi as ccipFetch,Gi as ccipRequest,on as checksumAddress,Pu as commitmentToVersionedHash,Au as commitmentsToVersionedHashes,ue as concat,y0 as concatBytes,mt as concatHex,kf as createClient,M1 as createPublicClient,w6 as createTransport,Ot as decodeAbiParameters,Do as decodeErrorResult,Ir as decodeEventLog,Nf as decodeFunctionData,Qe as decodeFunctionResult,L1 as defineChain,Ti as deploylessCallViaBytecodeBytecode,hf as deploylessCallViaFactoryBytecode,Me as encodeAbiParameters,Fr as encodeDeployData,js as encodeErrorResult,Ct as encodeEventTopics,he as encodeFunctionData,Cf as encodeFunctionResult,x6 as erc20Abi,cs as erc6492SignatureValidatorAbi,pf as erc6492SignatureValidatorByteCode,r1 as ethAddress,Sa as etherUnits,v6 as fallback,ni as formatBlock,Ho as formatEther,He as formatGwei,Ne as formatLog,ti as formatTransaction,Oi as formatTransactionReceipt,fn as formatTransactionRequest,Ia as formatUnits,Je as getAbiItem,Oo as getAddress,gt as getChainContractAddress,ht as getContractError,sn as getEventSelector,h0 as getEventSignature,Nt as getFunctionSelector,h0 as getFunctionSignature,Tu as getTransactionType,vd as getTypesForEIP712Domain,E6 as gweiUnits,Ad as hashDomain,Hi as hashMessage,Vi as hashStruct,Pd as hashTypedData,Te as hexToBigInt,Fa as hexToBool,xe as hexToBytes,Se as hexToNumber,P6 as http,ae as isAddress,Ft as isAddressEqual,we as isHex,q as keccak256,Ff as labelhash,uu as maxUint256,Zt as multicall3Abi,er as namehash,Uc as numberToBytes,L as numberToHex,bd as offchainLookup,Di as offchainLookupAbiItem,ld as offchainLookupSignature,lr as pad,A6 as padBytes,Ge as padHex,wo as parseAbi,ls as parseAbiItem,bs as parseAbiParameters,Sr as parseEventLogs,I0 as prepareEncodeFunctionData,pd as presignMessagePrefix,$1 as publicActions,Yo as recoverAddress,Q0 as recoverPublicKey,iu as rpcTransactionType,f1 as serializeSignature,Eu as sha256,B6 as shouldThrow,f1 as signatureToHex,G as size,bt as slice,zo as sliceBytes,m0 as sliceHex,Ve as stringToBytes,Un as stringToHex,ie as stringify,Su as toBlobSidecars,Iu as toBlobs,yt as toBytes,Co as toEventHash,sn as toEventSelector,h0 as toEventSignature,Co as toFunctionHash,Nt as toFunctionSelector,h0 as toFunctionSignature,ze as toHex,yd as toPrefixedMessage,eu as toRlp,ei as transactionType,Jt as trim,cs as universalSignatureValidatorAbi,pf as universalSignatureValidatorByteCode,xd as validateTypedData,Bf as withCache,us as withRetry,$6 as withTimeout,ye as zeroAddress};
